var ma=Object.defineProperty;var pa=(e,t,s)=>t in e?ma(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var os=(e,t,s)=>pa(e,typeof t!="symbol"?t+"":t,s);import{r as p,a as xa,b as ga,R as q,g as ya,O as Yr,u as As,N as va,d as Fs,f as Xr,h as ba,i as ue,L as en,j as ja,k as V,B as wa}from"./vendor-Dg2k1AAq.js";import{_ as z,a as rt,c as ye,R as rr,L as Na,C as Sa,X as Ea,Y as Ca,T as nr,b as ka,P as Ra,d as _a,e as Oa}from"./charts-4zVGZVus.js";import{q as Ae,a as ar}from"./ui-CSzAdc8c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var tn={exports:{}},Ht={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=p,Fa=Symbol.for("react.element"),Pa=Symbol.for("react.fragment"),La=Object.prototype.hasOwnProperty,Ta=Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Da={key:!0,ref:!0,__self:!0,__source:!0};function sn(e,t,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)La.call(t,r)&&!Da.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Fa,type:e,key:i,ref:o,props:a,_owner:Ta.current}}Ht.Fragment=Pa;Ht.jsx=sn;Ht.jsxs=sn;tn.exports=Ht;var n=tn.exports,gs={},ir=xa;gs.createRoot=ir.createRoot,gs.hydrateRoot=ir.hydrateRoot;var nt=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var a=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){a.listeners=a.listeners.filter(function(o){return o!==i}),a.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),Tt=typeof window>"u";function ce(){}function Ma(e,t){return typeof e=="function"?e(t):e}function ys(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dt(e){return Array.isArray(e)?e:[e]}function rn(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rt(e,t,s){return xt(e)?typeof t=="function"?z({},s,{queryKey:e,queryFn:t}):z({},t,{queryKey:e}):e}function Ua(e,t,s){return xt(e)?typeof t=="function"?z({},s,{mutationKey:e,mutationFn:t}):z({},t,{mutationKey:e}):typeof e=="function"?z({},t,{mutationFn:e}):z({},e)}function Ie(e,t,s){return xt(e)?[z({},t,{queryKey:e}),s]:[e||{},t]}function Ia(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var s=e??!t;return s?"active":"inactive"}function or(e,t){var s=e.active,r=e.exact,a=e.fetching,i=e.inactive,o=e.predicate,l=e.queryKey,d=e.stale;if(xt(l)){if(r){if(t.queryHash!==Ps(l,t.options))return!1}else if(!Mt(t.queryKey,l))return!1}var c=Ia(s,i);if(c==="none")return!1;if(c!=="all"){var u=t.isActive();if(c==="active"&&!u||c==="inactive"&&u)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||typeof a=="boolean"&&t.isFetching()!==a||o&&!o(t))}function lr(e,t){var s=e.exact,r=e.fetching,a=e.predicate,i=e.mutationKey;if(xt(i)){if(!t.options.mutationKey)return!1;if(s){if(Ve(t.options.mutationKey)!==Ve(i))return!1}else if(!Mt(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||a&&!a(t))}function Ps(e,t){var s=(t==null?void 0:t.queryKeyHashFn)||Ve;return s(e)}function Ve(e){var t=Dt(e);return Ba(t)}function Ba(e){return JSON.stringify(e,function(t,s){return vs(s)?Object.keys(s).sort().reduce(function(r,a){return r[a]=s[a],r},{}):s})}function Mt(e,t){return nn(Dt(e),Dt(t))}function nn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(s){return!nn(e[s],t[s])}):!1}function Ut(e,t){if(e===t)return e;var s=Array.isArray(e)&&Array.isArray(t);if(s||vs(e)&&vs(t)){for(var r=s?e.length:Object.keys(e).length,a=s?t:Object.keys(t),i=a.length,o=s?[]:{},l=0,d=0;d<i;d++){var c=s?d:a[d];o[c]=Ut(e[c],t[c]),o[c]===e[c]&&l++}return r===i&&l===r?e:o}return t}function $a(e,t){if(e&&!t||t&&!e)return!1;for(var s in e)if(e[s]!==t[s])return!1;return!0}function vs(e){if(!cr(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var s=t.prototype;return!(!cr(s)||!s.hasOwnProperty("isPrototypeOf"))}function cr(e){return Object.prototype.toString.call(e)==="[object Object]"}function xt(e){return typeof e=="string"||Array.isArray(e)}function qa(e){return new Promise(function(t){setTimeout(t,e)})}function ur(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function an(){if(typeof AbortController=="function")return new AbortController}var za=function(e){rt(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(a){var i;if(!Tt&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},s.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},s.setFocused=function(a){this.focused=a,a&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(a){a()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(nt),dt=new za,Va=function(e){rt(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(a){var i;if(!Tt&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var s=t.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},s.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},s.setOnline=function(a){this.online=a,a&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(a){a()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(nt),_t=new Va;function Ha(e){return Math.min(1e3*Math.pow(2,e),3e4)}function It(e){return typeof(e==null?void 0:e.cancel)=="function"}var on=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Ot(e){return e instanceof on}var ln=function(t){var s=this,r=!1,a,i,o,l;this.abort=t.abort,this.cancel=function(g){return a==null?void 0:a(g)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(g,h){o=g,l=h});var d=function(h){s.isResolved||(s.isResolved=!0,t.onSuccess==null||t.onSuccess(h),i==null||i(),o(h))},c=function(h){s.isResolved||(s.isResolved=!0,t.onError==null||t.onError(h),i==null||i(),l(h))},u=function(){return new Promise(function(h){i=h,s.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,s.isPaused=!1,t.onContinue==null||t.onContinue()})},m=function g(){if(!s.isResolved){var h;try{h=t.fn()}catch(x){h=Promise.reject(x)}a=function(y){if(!s.isResolved&&(c(new on(y)),s.abort==null||s.abort(),It(h)))try{h.cancel()}catch{}},s.isTransportCancelable=It(h),Promise.resolve(h).then(d).catch(function(x){var y,N;if(!s.isResolved){var k=(y=t.retry)!=null?y:3,w=(N=t.retryDelay)!=null?N:Ha,v=typeof w=="function"?w(s.failureCount,x):w,A=k===!0||typeof k=="number"&&s.failureCount<k||typeof k=="function"&&k(s.failureCount,x);if(r||!A){c(x);return}s.failureCount++,t.onFail==null||t.onFail(s.failureCount,x),qa(v).then(function(){if(!dt.isFocused()||!_t.isOnline())return u()}).then(function(){r?c(x):g()})}})}};m()},Qa=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var t=e.prototype;return t.batch=function(r){var a;this.transactions++;try{a=r()}finally{this.transactions--,this.transactions||this.flush()}return a},t.schedule=function(r){var a=this;this.transactions?this.queue.push(r):ur(function(){a.notifyFn(r)})},t.batchCalls=function(r){var a=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];a.schedule(function(){r.apply(void 0,o)})}},t.flush=function(){var r=this,a=this.queue;this.queue=[],a.length&&ur(function(){r.batchNotifyFn(function(){a.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),G=new Qa,cn=console;function Bt(){return cn}function Wa(e){cn=e}var Ka=function(){function e(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var a;this.options=z({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(a=this.options.cacheTime)!=null?a:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),ys(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,a){var i,o,l=this.state.data,d=Ma(r,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,d)?d=l:this.options.structuralSharing!==!1&&(d=Ut(l,d)),this.dispatch({data:d,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt}),d},t.setState=function(r,a){this.dispatch({type:"setState",state:r,setStateOptions:a})},t.cancel=function(r){var a,i=this.promise;return(a=this.retryer)==null||a.cancel(r),i?i.then(ce).catch(ce):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!rn(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,a=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});a&&a.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,a=this.observers.find(function(i){return i.shouldFetchOnReconnect()});a&&a.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(a){return a!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,a){var i=this,o,l,d;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(w){return w.options.queryFn});u&&this.setOptions(u.options)}var m=Dt(this.queryKey),g=an(),h={queryKey:m,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(g)return i.abortSignalConsumed=!0,g.signal}});var x=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(h)):Promise.reject("Missing queryFn")},y={fetchOptions:a,options:this.options,queryKey:m,state:this.state,fetchFn:x,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var N;(N=this.options.behavior)==null||N.onFetch(y)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=y.fetchOptions)==null?void 0:l.meta)){var k;this.dispatch({type:"fetch",meta:(k=y.fetchOptions)==null?void 0:k.meta})}return this.retryer=new ln({fn:y.fetchFn,abort:g==null||(d=g.abort)==null?void 0:d.bind(g),onSuccess:function(v){i.setData(v),i.cache.config.onSuccess==null||i.cache.config.onSuccess(v,i),i.cacheTime===0&&i.optionalRemove()},onError:function(v){Ot(v)&&v.silent||i.dispatch({type:"error",error:v}),Ot(v)||(i.cache.config.onError==null||i.cache.config.onError(v,i),Bt().error(v)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var a=this;this.state=this.reducer(this.state,r),G.batch(function(){a.observers.forEach(function(i){i.onQueryUpdate(r)}),a.cache.notify({query:a,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var a=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof a<"u";return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(r,a){var i,o;switch(a.type){case"failed":return z({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return z({},r,{isPaused:!0});case"continue":return z({},r,{isPaused:!1});case"fetch":return z({},r,{fetchFailureCount:0,fetchMeta:(i=a.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return z({},r,{data:a.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=a.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=a.error;return Ot(l)&&l.revert&&this.revertState?z({},this.revertState):z({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return z({},r,{isInvalidated:!0});case"setState":return z({},r,a.state);default:return r}},e}(),Za=function(e){rt(t,e);function t(r){var a;return a=e.call(this)||this,a.config=r||{},a.queries=[],a.queriesMap={},a}var s=t.prototype;return s.build=function(a,i,o){var l,d=i.queryKey,c=(l=i.queryHash)!=null?l:Ps(d,i),u=this.get(c);return u||(u=new Ka({cache:this,queryKey:d,queryHash:c,options:a.defaultQueryOptions(i),state:o,defaultOptions:a.getQueryDefaults(d),meta:i.meta}),this.add(u)),u},s.add=function(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"queryAdded",query:a}))},s.remove=function(a){var i=this.queriesMap[a.queryHash];i&&(a.destroy(),this.queries=this.queries.filter(function(o){return o!==a}),i===a&&delete this.queriesMap[a.queryHash],this.notify({type:"queryRemoved",query:a}))},s.clear=function(){var a=this;G.batch(function(){a.queries.forEach(function(i){a.remove(i)})})},s.get=function(a){return this.queriesMap[a]},s.getAll=function(){return this.queries},s.find=function(a,i){var o=Ie(a,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(d){return or(l,d)})},s.findAll=function(a,i){var o=Ie(a,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(d){return or(l,d)}):this.queries},s.notify=function(a){var i=this;G.batch(function(){i.listeners.forEach(function(o){o(a)})})},s.onFocus=function(){var a=this;G.batch(function(){a.queries.forEach(function(i){i.onFocus()})})},s.onOnline=function(){var a=this;G.batch(function(){a.queries.forEach(function(i){i.onOnline()})})},t}(nt),Ja=function(){function e(s){this.options=z({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||un(),this.meta=s.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(a){return a!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(ce).catch(ce)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,a,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(l){a=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(a,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(a,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:a}),a}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),Bt().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var r=this,a;return this.retryer=new ln({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(a=this.options.retry)!=null?a:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var a=this;this.state=Ga(this.state,r),G.batch(function(){a.observers.forEach(function(i){i.onMutationUpdate(r)}),a.mutationCache.notify(a)})},e}();function un(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ga(e,t){switch(t.type){case"failed":return z({},e,{failureCount:e.failureCount+1});case"pause":return z({},e,{isPaused:!0});case"continue":return z({},e,{isPaused:!1});case"loading":return z({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return z({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return z({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return z({},e,t.state);default:return e}}var Ya=function(e){rt(t,e);function t(r){var a;return a=e.call(this)||this,a.config=r||{},a.mutations=[],a.mutationId=0,a}var s=t.prototype;return s.build=function(a,i,o){var l=new Ja({mutationCache:this,mutationId:++this.mutationId,options:a.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?a.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},s.add=function(a){this.mutations.push(a),this.notify(a)},s.remove=function(a){this.mutations=this.mutations.filter(function(i){return i!==a}),a.cancel(),this.notify(a)},s.clear=function(){var a=this;G.batch(function(){a.mutations.forEach(function(i){a.remove(i)})})},s.getAll=function(){return this.mutations},s.find=function(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(function(i){return lr(a,i)})},s.findAll=function(a){return this.mutations.filter(function(i){return lr(a,i)})},s.notify=function(a){var i=this;G.batch(function(){i.listeners.forEach(function(o){o(a)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var a=this.mutations.filter(function(i){return i.state.isPaused});return G.batch(function(){return a.reduce(function(i,o){return i.then(function(){return o.continue().catch(ce)})},Promise.resolve())})},t}(nt);function Xa(){return{onFetch:function(t){t.fetchFn=function(){var s,r,a,i,o,l,d=(s=t.fetchOptions)==null||(r=s.meta)==null?void 0:r.refetchPage,c=(a=t.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,u=c==null?void 0:c.pageParam,m=(c==null?void 0:c.direction)==="forward",g=(c==null?void 0:c.direction)==="backward",h=((o=t.state.data)==null?void 0:o.pages)||[],x=((l=t.state.data)==null?void 0:l.pageParams)||[],y=an(),N=y==null?void 0:y.signal,k=x,w=!1,v=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},A=function(B,K,$,ne){return k=ne?[K].concat(k):[].concat(k,[K]),ne?[$].concat(B):[].concat(B,[$])},L=function(B,K,$,ne){if(w)return Promise.reject("Cancelled");if(typeof $>"u"&&!K&&B.length)return Promise.resolve(B);var ee={queryKey:t.queryKey,signal:N,pageParam:$,meta:t.meta},le=v(ee),be=Promise.resolve(le).then(function(Ce){return A(B,$,Ce,ne)});if(It(le)){var he=be;he.cancel=le.cancel}return be},I;if(!h.length)I=L([]);else if(m){var _=typeof u<"u",ae=_?u:dr(t.options,h);I=L(h,_,ae)}else if(g){var X=typeof u<"u",Z=X?u:ei(t.options,h);I=L(h,X,Z,!0)}else(function(){k=[];var D=typeof t.options.getNextPageParam>"u",B=d&&h[0]?d(h[0],0,h):!0;I=B?L([],D,x[0]):Promise.resolve(A([],x[0],h[0]));for(var K=function(ee){I=I.then(function(le){var be=d&&h[ee]?d(h[ee],ee,h):!0;if(be){var he=D?x[ee]:dr(t.options,le);return L(le,D,he)}return Promise.resolve(A(le,x[ee],h[ee]))})},$=1;$<h.length;$++)K($)})();var ie=I.then(function(D){return{pages:D,pageParams:k}}),T=ie;return T.cancel=function(){w=!0,y==null||y.abort(),It(I)&&I.cancel()},ie}}}}function dr(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function ei(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var ti=function(){function e(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new Za,this.mutationCache=s.mutationCache||new Ya,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=dt.subscribe(function(){dt.isFocused()&&_t.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=_t.subscribe(function(){dt.isFocused()&&_t.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,a;(r=this.unsubscribeFocus)==null||r.call(this),(a=this.unsubscribeOnline)==null||a.call(this)},t.isFetching=function(r,a){var i=Ie(r,a),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(r){return this.mutationCache.findAll(z({},r,{fetching:!0})).length},t.getQueryData=function(r,a){var i;return(i=this.queryCache.find(r,a))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(a){var i=a.queryKey,o=a.state,l=o.data;return[i,l]})},t.setQueryData=function(r,a,i){var o=Rt(r),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,i)},t.setQueriesData=function(r,a,i){var o=this;return G.batch(function(){return o.getQueryCache().findAll(r).map(function(l){var d=l.queryKey;return[d,o.setQueryData(d,a,i)]})})},t.getQueryState=function(r,a){var i;return(i=this.queryCache.find(r,a))==null?void 0:i.state},t.removeQueries=function(r,a){var i=Ie(r,a),o=i[0],l=this.queryCache;G.batch(function(){l.findAll(o).forEach(function(d){l.remove(d)})})},t.resetQueries=function(r,a,i){var o=this,l=Ie(r,a,i),d=l[0],c=l[1],u=this.queryCache,m=z({},d,{active:!0});return G.batch(function(){return u.findAll(d).forEach(function(g){g.reset()}),o.refetchQueries(m,c)})},t.cancelQueries=function(r,a,i){var o=this,l=Ie(r,a,i),d=l[0],c=l[1],u=c===void 0?{}:c;typeof u.revert>"u"&&(u.revert=!0);var m=G.batch(function(){return o.queryCache.findAll(d).map(function(g){return g.cancel(u)})});return Promise.all(m).then(ce).catch(ce)},t.invalidateQueries=function(r,a,i){var o,l,d,c=this,u=Ie(r,a,i),m=u[0],g=u[1],h=z({},m,{active:(o=(l=m.refetchActive)!=null?l:m.active)!=null?o:!0,inactive:(d=m.refetchInactive)!=null?d:!1});return G.batch(function(){return c.queryCache.findAll(m).forEach(function(x){x.invalidate()}),c.refetchQueries(h,g)})},t.refetchQueries=function(r,a,i){var o=this,l=Ie(r,a,i),d=l[0],c=l[1],u=G.batch(function(){return o.queryCache.findAll(d).map(function(g){return g.fetch(void 0,z({},c,{meta:{refetchPage:d==null?void 0:d.refetchPage}}))})}),m=Promise.all(u).then(ce);return c!=null&&c.throwOnError||(m=m.catch(ce)),m},t.fetchQuery=function(r,a,i){var o=Rt(r,a,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var d=this.queryCache.build(this,l);return d.isStaleByTime(l.staleTime)?d.fetch(l):Promise.resolve(d.state.data)},t.prefetchQuery=function(r,a,i){return this.fetchQuery(r,a,i).then(ce).catch(ce)},t.fetchInfiniteQuery=function(r,a,i){var o=Rt(r,a,i);return o.behavior=Xa(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(r,a,i){return this.fetchInfiniteQuery(r,a,i).then(ce).catch(ce)},t.cancelMutations=function(){var r=this,a=G.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(a).then(ce).catch(ce)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,a){var i=this.queryDefaults.find(function(o){return Ve(r)===Ve(o.queryKey)});i?i.defaultOptions=a:this.queryDefaults.push({queryKey:r,defaultOptions:a})},t.getQueryDefaults=function(r){var a;return r?(a=this.queryDefaults.find(function(i){return Mt(r,i.queryKey)}))==null?void 0:a.defaultOptions:void 0},t.setMutationDefaults=function(r,a){var i=this.mutationDefaults.find(function(o){return Ve(r)===Ve(o.mutationKey)});i?i.defaultOptions=a:this.mutationDefaults.push({mutationKey:r,defaultOptions:a})},t.getMutationDefaults=function(r){var a;return r?(a=this.mutationDefaults.find(function(i){return Mt(r,i.mutationKey)}))==null?void 0:a.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var a=z({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!a.queryHash&&a.queryKey&&(a.queryHash=Ps(a.queryKey,a)),a},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:z({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),si=function(e){rt(t,e);function t(r,a){var i;return i=e.call(this)||this,i.client=r,i.options=a,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(a),i}var s=t.prototype;return s.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},s.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),hr(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},s.onUnsubscribe=function(){this.listeners.length||this.destroy()},s.shouldFetchOnReconnect=function(){return bs(this.currentQuery,this.options,this.options.refetchOnReconnect)},s.shouldFetchOnWindowFocus=function(){return bs(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},s.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},s.setOptions=function(a,i){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(a),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var d=this.hasListeners();d&&fr(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(i),d&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();d&&(this.currentQuery!==l||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},s.getOptimisticResult=function(a){var i=this.client.defaultQueryObserverOptions(a),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},s.getCurrentResult=function(){return this.currentResult},s.trackResult=function(a,i){var o=this,l={},d=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(a).forEach(function(c){Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:function(){return d(c),a[c]}})}),(i.useErrorBoundary||i.suspense)&&d("error"),l},s.getNextResult=function(a){var i=this;return new Promise(function(o,l){var d=i.subscribe(function(c){c.isFetching||(d(),c.isError&&(a!=null&&a.throwOnError)?l(c.error):o(c))})})},s.getCurrentQuery=function(){return this.currentQuery},s.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},s.refetch=function(a){return this.fetch(z({},a,{meta:{refetchPage:a==null?void 0:a.refetchPage}}))},s.fetchOptimistic=function(a){var i=this,o=this.client.defaultQueryObserverOptions(a),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return i.createResult(l,o)})},s.fetch=function(a){var i=this;return this.executeFetch(a).then(function(){return i.updateResult(),i.currentResult})},s.executeFetch=function(a){this.updateQuery();var i=this.currentQuery.fetch(this.options,a);return a!=null&&a.throwOnError||(i=i.catch(ce)),i},s.updateStaleTimeout=function(){var a=this;if(this.clearStaleTimeout(),!(Tt||this.currentResult.isStale||!ys(this.options.staleTime))){var i=rn(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){a.currentResult.isStale||a.updateResult()},o)}},s.computeRefetchInterval=function(){var a;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(a=this.options.refetchInterval)!=null?a:!1},s.updateRefetchInterval=function(a){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=a,!(Tt||this.options.enabled===!1||!ys(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||dt.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},s.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},s.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},s.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},s.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},s.createResult=function(a,i){var o=this.currentQuery,l=this.options,d=this.currentResult,c=this.currentResultState,u=this.currentResultOptions,m=a!==o,g=m?a.state:this.currentQueryInitialState,h=m?this.currentResult:this.previousQueryResult,x=a.state,y=x.dataUpdatedAt,N=x.error,k=x.errorUpdatedAt,w=x.isFetching,v=x.status,A=!1,L=!1,I;if(i.optimisticResults){var _=this.hasListeners(),ae=!_&&hr(a,i),X=_&&fr(a,o,i,l);(ae||X)&&(w=!0,y||(v="loading"))}if(i.keepPreviousData&&!x.dataUpdateCount&&(h!=null&&h.isSuccess)&&v!=="error")I=h.data,y=h.dataUpdatedAt,v=h.status,A=!0;else if(i.select&&typeof x.data<"u")if(d&&x.data===(c==null?void 0:c.data)&&i.select===this.selectFn)I=this.selectResult;else try{this.selectFn=i.select,I=i.select(x.data),i.structuralSharing!==!1&&(I=Ut(d==null?void 0:d.data,I)),this.selectResult=I,this.selectError=null}catch(T){Bt().error(T),this.selectError=T}else I=x.data;if(typeof i.placeholderData<"u"&&typeof I>"u"&&(v==="loading"||v==="idle")){var Z;if(d!=null&&d.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))Z=d.data;else if(Z=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof Z<"u")try{Z=i.select(Z),i.structuralSharing!==!1&&(Z=Ut(d==null?void 0:d.data,Z)),this.selectError=null}catch(T){Bt().error(T),this.selectError=T}typeof Z<"u"&&(v="success",I=Z,L=!0)}this.selectError&&(N=this.selectError,I=this.selectResult,k=Date.now(),v="error");var ie={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:I,dataUpdatedAt:y,error:N,errorUpdatedAt:k,failureCount:x.fetchFailureCount,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>g.dataUpdateCount||x.errorUpdateCount>g.errorUpdateCount,isFetching:w,isRefetching:w&&v!=="loading",isLoadingError:v==="error"&&x.dataUpdatedAt===0,isPlaceholderData:L,isPreviousData:A,isRefetchError:v==="error"&&x.dataUpdatedAt!==0,isStale:Ls(a,i),refetch:this.refetch,remove:this.remove};return ie},s.shouldNotifyListeners=function(a,i){if(!i)return!0;var o=this.options,l=o.notifyOnChangeProps,d=o.notifyOnChangePropsExclusions;if(!l&&!d||l==="tracked"&&!this.trackedProps.length)return!0;var c=l==="tracked"?this.trackedProps:l;return Object.keys(a).some(function(u){var m=u,g=a[m]!==i[m],h=c==null?void 0:c.some(function(y){return y===u}),x=d==null?void 0:d.some(function(y){return y===u});return g&&!x&&(!c||h)})},s.updateResult=function(a){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!$a(this.currentResult,i)){var o={cache:!0};(a==null?void 0:a.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(z({},o,a))}},s.updateQuery=function(){var a=this.client.getQueryCache().build(this.client,this.options);if(a!==this.currentQuery){var i=this.currentQuery;this.currentQuery=a,this.currentQueryInitialState=a.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),a.addObserver(this))}},s.onQueryUpdate=function(a){var i={};a.type==="success"?i.onSuccess=!0:a.type==="error"&&!Ot(a.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},s.notify=function(a){var i=this;G.batch(function(){a.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):a.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),a.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),a.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},t}(nt);function ri(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hr(e,t){return ri(e,t)||e.state.dataUpdatedAt>0&&bs(e,t,t.refetchOnMount)}function bs(e,t,s){if(t.enabled!==!1){var r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&Ls(e,t)}return!1}function fr(e,t,s,r){return s.enabled!==!1&&(e!==t||r.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&Ls(e,s)}function Ls(e,t){return e.isStaleByTime(t.staleTime)}var ni=function(e){rt(t,e);function t(r,a){var i;return i=e.call(this)||this,i.client=r,i.setOptions(a),i.bindMethods(),i.updateResult(),i}var s=t.prototype;return s.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},s.setOptions=function(a){this.options=this.client.defaultMutationOptions(a)},s.onUnsubscribe=function(){if(!this.listeners.length){var a;(a=this.currentMutation)==null||a.removeObserver(this)}},s.onMutationUpdate=function(a){this.updateResult();var i={listeners:!0};a.type==="success"?i.onSuccess=!0:a.type==="error"&&(i.onError=!0),this.notify(i)},s.getCurrentResult=function(){return this.currentResult},s.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},s.mutate=function(a,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,z({},this.options,{variables:typeof a<"u"?a:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},s.updateResult=function(){var a=this.currentMutation?this.currentMutation.state:un(),i=z({},a,{isLoading:a.status==="loading",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},s.notify=function(a){var i=this;G.batch(function(){i.mutateOptions&&(a.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):a.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),a.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},t}(nt),ai=ga.unstable_batchedUpdates;G.setBatchNotifyFunction(ai);var ii=console;Wa(ii);var mr=q.createContext(void 0),dn=q.createContext(!1);function hn(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=mr),window.ReactQueryClientContext):mr}var Ts=function(){var t=q.useContext(hn(q.useContext(dn)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oi=function(t){var s=t.client,r=t.contextSharing,a=r===void 0?!1:r,i=t.children;q.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var o=hn(a);return q.createElement(dn.Provider,{value:a},q.createElement(o.Provider,{value:s},i))};function li(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var ci=q.createContext(li()),ui=function(){return q.useContext(ci)};function fn(e,t,s){return typeof t=="function"?t.apply(void 0,s):typeof t=="boolean"?t:!!e}function di(e,t,s){var r=q.useRef(!1),a=q.useState(0),i=a[1],o=Ua(e,t,s),l=Ts(),d=q.useRef();d.current?d.current.setOptions(o):d.current=new ni(l,o);var c=d.current.getCurrentResult();q.useEffect(function(){r.current=!0;var m=d.current.subscribe(G.batchCalls(function(){r.current&&i(function(g){return g+1})}));return function(){r.current=!1,m()}},[]);var u=q.useCallback(function(m,g){d.current.mutate(m,g).catch(ce)},[]);if(c.error&&fn(void 0,d.current.options.useErrorBoundary,[c.error]))throw c.error;return z({},c,{mutate:u,mutateAsync:c.mutate})}function hi(e,t){var s=q.useRef(!1),r=q.useState(0),a=r[1],i=Ts(),o=ui(),l=i.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=G.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=G.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=G.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var d=q.useState(function(){return new t(i,l)}),c=d[0],u=c.getOptimisticResult(l);if(q.useEffect(function(){s.current=!0,o.clearReset();var m=c.subscribe(G.batchCalls(function(){s.current&&a(function(g){return g+1})}));return c.updateResult(),function(){s.current=!1,m()}},[o,c]),q.useEffect(function(){c.setOptions(l,{listeners:!1})},[l,c]),l.suspense&&u.isLoading)throw c.fetchOptimistic(l).then(function(m){var g=m.data;l.onSuccess==null||l.onSuccess(g),l.onSettled==null||l.onSettled(g,null)}).catch(function(m){o.clearReset(),l.onError==null||l.onError(m),l.onSettled==null||l.onSettled(void 0,m)});if(u.isError&&!o.isReset()&&!u.isFetching&&fn(l.suspense,l.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return l.notifyOnChangeProps==="tracked"&&(u=c.trackResult(u,l)),u}function Te(e,t,s){var r=Rt(e,t,s);return hi(r,si)}let fi={data:""},mi=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||fi},pi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xi=/\/\*[^]*?\*\/|  +/g,pr=/\n+/g,Be=(e,t)=>{let s="",r="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":r+=i[1]=="f"?Be(o,i):i+"{"+Be(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Be(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Be.p?Be.p(i,o):i+":"+o+";")}return s+(t&&a?t+"{"+a+"}":a)+r},Fe={},mn=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+mn(e[s]);return t}return e},gi=(e,t,s,r,a)=>{let i=mn(e),o=Fe[i]||(Fe[i]=(d=>{let c=0,u=11;for(;c<d.length;)u=101*u+d.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Fe[o]){let d=i!==e?e:(c=>{let u,m,g=[{}];for(;u=pi.exec(c.replace(xi,""));)u[4]?g.shift():u[3]?(m=u[3].replace(pr," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][u[1]]=u[2].replace(pr," ").trim();return g[0]})(e);Fe[o]=Be(a?{["@keyframes "+o]:d}:d,s?"":"."+o)}let l=s&&Fe.g?Fe.g:null;return s&&(Fe.g=Fe[o]),((d,c,u,m)=>{m?c.data=c.data.replace(m,d):c.data.indexOf(d)===-1&&(c.data=u?d+c.data:c.data+d)})(Fe[o],t,r,l),o},yi=(e,t,s)=>e.reduce((r,a,i)=>{let o=t[i];if(o&&o.call){let l=o(s),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":Be(l,""):l===!1?"":l}return r+a+(o??"")},"");function Qt(e){let t=this||{},s=e.call?e(t.p):e;return gi(s.unshift?s.raw?yi(s,[].slice.call(arguments,1),t.p):s.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):s,mi(t.target),t.g,t.o,t.k)}let pn,js,ws;Qt.bind({g:1});let De=Qt.bind({k:1});function vi(e,t,s,r){Be.p=t,pn=e,js=s,ws=r}function ze(e,t){let s=this||{};return function(){let r=arguments;function a(i,o){let l=Object.assign({},i),d=l.className||a.className;s.p=Object.assign({theme:js&&js()},l),s.o=/ *go\d+/.test(d),l.className=Qt.apply(s,r)+(d?" "+d:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),ws&&c[0]&&ws(l),pn(c,l)}return a}}var bi=e=>typeof e=="function",$t=(e,t)=>bi(e)?e(t):e,ji=(()=>{let e=0;return()=>(++e).toString()})(),xn=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wi=20,Ds="default",gn=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return gn(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},At=[],yn={toasts:[],pausedAt:void 0,settings:{toastLimit:wi}},_e={},vn=(e,t=Ds)=>{_e[t]=gn(_e[t]||yn,e),At.forEach(([s,r])=>{s===t&&r(_e[t])})},bn=e=>Object.keys(_e).forEach(t=>vn(e,t)),Ni=e=>Object.keys(_e).find(t=>_e[t].toasts.some(s=>s.id===e)),Wt=(e=Ds)=>t=>{vn(t,e)},Si={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ei=(e={},t=Ds)=>{let[s,r]=p.useState(_e[t]||yn),a=p.useRef(_e[t]);p.useEffect(()=>(a.current!==_e[t]&&r(_e[t]),At.push([t,r]),()=>{let o=At.findIndex(([l])=>l===t);o>-1&&At.splice(o,1)}),[t]);let i=s.toasts.map(o=>{var l,d,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((d=e[o.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||Si[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...s,toasts:i}},Ci=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||ji()}),gt=e=>(t,s)=>{let r=Ci(t,e,s);return Wt(r.toasterId||Ni(r.id))({type:2,toast:r}),r.id},U=(e,t)=>gt("blank")(e,t);U.error=gt("error");U.success=gt("success");U.loading=gt("loading");U.custom=gt("custom");U.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Wt(t)(s):bn(s)};U.dismissAll=e=>U.dismiss(void 0,e);U.remove=(e,t)=>{let s={type:4,toastId:e};t?Wt(t)(s):bn(s)};U.removeAll=e=>U.remove(void 0,e);U.promise=(e,t,s)=>{let r=U.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?$t(t.success,a):void 0;return i?U.success(i,{id:r,...s,...s==null?void 0:s.success}):U.dismiss(r),a}).catch(a=>{let i=t.error?$t(t.error,a):void 0;i?U.error(i,{id:r,...s,...s==null?void 0:s.error}):U.dismiss(r)}),e};var ki=1e3,Ri=(e,t="default")=>{let{toasts:s,pausedAt:r}=Ei(e,t),a=p.useRef(new Map).current,i=p.useCallback((m,g=ki)=>{if(a.has(m))return;let h=setTimeout(()=>{a.delete(m),o({type:4,toastId:m})},g);a.set(m,h)},[]);p.useEffect(()=>{if(r)return;let m=Date.now(),g=s.map(h=>{if(h.duration===1/0)return;let x=(h.duration||0)+h.pauseDuration-(m-h.createdAt);if(x<0){h.visible&&U.dismiss(h.id);return}return setTimeout(()=>U.dismiss(h.id,t),x)});return()=>{g.forEach(h=>h&&clearTimeout(h))}},[s,r,t]);let o=p.useCallback(Wt(t),[t]),l=p.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=p.useCallback((m,g)=>{o({type:1,toast:{id:m,height:g}})},[o]),c=p.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=p.useCallback((m,g)=>{let{reverseOrder:h=!1,gutter:x=8,defaultPosition:y}=g||{},N=s.filter(v=>(v.position||y)===(m.position||y)&&v.height),k=N.findIndex(v=>v.id===m.id),w=N.filter((v,A)=>A<k&&v.visible).length;return N.filter(v=>v.visible).slice(...h?[w+1]:[0,w]).reduce((v,A)=>v+(A.height||0)+x,0)},[s]);return p.useEffect(()=>{s.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let g=a.get(m.id);g&&(clearTimeout(g),a.delete(m.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:d,startPause:l,endPause:c,calculateOffset:u}}},_i=De`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Oi=De`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ai=De`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fi=ze("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_i} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Oi} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ai} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Pi=De`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Li=ze("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Pi} 1s linear infinite;
`,Ti=De`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Di=De`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mi=ze("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ti} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Di} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ui=ze("div")`
  position: absolute;
`,Ii=ze("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Bi=De`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$i=ze("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Bi} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qi=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?p.createElement($i,null,t):t:s==="blank"?null:p.createElement(Ii,null,p.createElement(Li,{...r}),s!=="loading"&&p.createElement(Ui,null,s==="error"?p.createElement(Fi,{...r}):p.createElement(Mi,{...r})))},zi=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Vi=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Hi="0%{opacity:0;} 100%{opacity:1;}",Qi="0%{opacity:1;} 100%{opacity:0;}",Wi=ze("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ki=ze("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Zi=(e,t)=>{let s=e.includes("top")?1:-1,[r,a]=xn()?[Hi,Qi]:[zi(s),Vi(s)];return{animation:t?`${De(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${De(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ji=p.memo(({toast:e,position:t,style:s,children:r})=>{let a=e.height?Zi(e.position||t||"top-center",e.visible):{opacity:0},i=p.createElement(qi,{toast:e}),o=p.createElement(Ki,{...e.ariaProps},$t(e.message,e));return p.createElement(Wi,{className:e.className,style:{...a,...s,...e.style}},typeof r=="function"?r({icon:i,message:o}):p.createElement(p.Fragment,null,i,o))});vi(p.createElement);var Gi=({id:e,className:t,style:s,onHeightUpdate:r,children:a})=>{let i=p.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;r(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return p.createElement("div",{ref:i,className:t,style:s},a)},Yi=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...a}},Xi=Qt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Et=16,eo=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:c}=Ri(s,i);return p.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Et,left:Et,right:Et,bottom:Et,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},d.map(u=>{let m=u.position||t,g=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),h=Yi(m,g);return p.createElement(Gi,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Xi:"",style:h},u.type==="custom"?$t(u.message,u):a?a(u):p.createElement(Ji,{toast:u,position:m}))}))};const to={},xr=e=>{let t;const s=new Set,r=(u,m)=>{const g=typeof u=="function"?u(t):u;if(!Object.is(g,t)){const h=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),s.forEach(x=>x(t,h))}},a=()=>t,d={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(to?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},c=t=e(r,a,d);return d},so=e=>e?xr(e):xr;var jn={exports:{}},wn={},Nn={exports:{}},Sn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=p;function ro(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var no=typeof Object.is=="function"?Object.is:ro,ao=et.useState,io=et.useEffect,oo=et.useLayoutEffect,lo=et.useDebugValue;function co(e,t){var s=t(),r=ao({inst:{value:s,getSnapshot:t}}),a=r[0].inst,i=r[1];return oo(function(){a.value=s,a.getSnapshot=t,ls(a)&&i({inst:a})},[e,s,t]),io(function(){return ls(a)&&i({inst:a}),e(function(){ls(a)&&i({inst:a})})},[e]),lo(s),s}function ls(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!no(e,s)}catch{return!0}}function uo(e,t){return t()}var ho=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uo:co;Sn.useSyncExternalStore=et.useSyncExternalStore!==void 0?et.useSyncExternalStore:ho;Nn.exports=Sn;var fo=Nn.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=p,mo=fo;function po(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xo=typeof Object.is=="function"?Object.is:po,go=mo.useSyncExternalStore,yo=Kt.useRef,vo=Kt.useEffect,bo=Kt.useMemo,jo=Kt.useDebugValue;wn.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var i=yo(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=bo(function(){function d(h){if(!c){if(c=!0,u=h,h=r(h),a!==void 0&&o.hasValue){var x=o.value;if(a(x,h))return m=x}return m=h}if(x=m,xo(u,h))return x;var y=r(h);return a!==void 0&&a(x,y)?(u=h,x):(u=h,m=y)}var c=!1,u,m,g=s===void 0?null:s;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,s,r,a]);var l=go(e,i[0],i[1]);return vo(function(){o.hasValue=!0,o.value=l},[l]),jo(l),l};jn.exports=wn;var wo=jn.exports;const No=ya(wo),En={},{useDebugValue:So}=q,{useSyncExternalStoreWithSelector:Eo}=No;let gr=!1;const Co=e=>e;function ko(e,t=Co,s){(En?"production":void 0)!=="production"&&s&&!gr&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gr=!0);const r=Eo(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return So(r),r}const Ro=e=>{(En?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?so(e):e,s=(r,a)=>ko(t,r,a);return Object.assign(s,t),s},_o=e=>Ro,Oo={};function Ao(e,t){let s;try{s=e()}catch{return}return{getItem:a=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),l=(i=s.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>s.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>s.removeItem(a)}}const pt=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(r){return pt(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return pt(r)(s)}}}},Fo=(e,t)=>(s,r,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...t},o=!1;const l=new Set,d=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...N)},r,a);const u=pt(i.serialize),m=()=>{const N=i.partialize({...r()});let k;const w=u({state:N,version:i.version}).then(v=>c.setItem(i.name,v)).catch(v=>{k=v});if(k)throw k;return w},g=a.setState;a.setState=(N,k)=>{g(N,k),m()};const h=e((...N)=>{s(...N),m()},r,a);let x;const y=()=>{var N;if(!c)return;o=!1,l.forEach(w=>w(r()));const k=((N=i.onRehydrateStorage)==null?void 0:N.call(i,r()))||void 0;return pt(c.getItem.bind(c))(i.name).then(w=>{if(w)return i.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return i.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var v;return x=i.merge(w,(v=r())!=null?v:h),s(x,!0),m()}).then(()=>{k==null||k(x,void 0),o=!0,d.forEach(w=>w(x))}).catch(w=>{k==null||k(void 0,w)})};return a.persist={setOptions:N=>{i={...i,...N},N.getStorage&&(c=N.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:N=>(l.add(N),()=>{l.delete(N)}),onFinishHydration:N=>(d.add(N),()=>{d.delete(N)})},y(),x||h},Po=(e,t)=>(s,r,a)=>{let i={storage:Ao(()=>localStorage),partialize:y=>y,version:0,merge:(y,N)=>({...N,...y}),...t},o=!1;const l=new Set,d=new Set;let c=i.storage;if(!c)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...y)},r,a);const u=()=>{const y=i.partialize({...r()});return c.setItem(i.name,{state:y,version:i.version})},m=a.setState;a.setState=(y,N)=>{m(y,N),u()};const g=e((...y)=>{s(...y),u()},r,a);a.getInitialState=()=>g;let h;const x=()=>{var y,N;if(!c)return;o=!1,l.forEach(w=>{var v;return w((v=r())!=null?v:g)});const k=((N=i.onRehydrateStorage)==null?void 0:N.call(i,(y=r())!=null?y:g))||void 0;return pt(c.getItem.bind(c))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return[!0,i.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var v;const[A,L]=w;if(h=i.merge(L,(v=r())!=null?v:g),s(h,!0),A)return u()}).then(()=>{k==null||k(h,void 0),h=r(),o=!0,d.forEach(w=>w(h))}).catch(w=>{k==null||k(void 0,w)})};return a.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(d.add(y),()=>{d.delete(y)})},i.skipHydration||x(),h||g},Lo=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Oo?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Fo(e,t)):Po(e,t),To=Lo;function Cn(e,t){return function(){return e.apply(t,arguments)}}const{toString:Do}=Object.prototype,{getPrototypeOf:Ms}=Object,{iterator:Zt,toStringTag:kn}=Symbol,Jt=(e=>t=>{const s=Do.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ee=e=>(e=e.toLowerCase(),t=>Jt(t)===e),Gt=e=>t=>typeof t===e,{isArray:at}=Array,tt=Gt("undefined");function yt(e){return e!==null&&!tt(e)&&e.constructor!==null&&!tt(e.constructor)&&pe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Rn=Ee("ArrayBuffer");function Mo(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Rn(e.buffer),t}const Uo=Gt("string"),pe=Gt("function"),_n=Gt("number"),vt=e=>e!==null&&typeof e=="object",Io=e=>e===!0||e===!1,Ft=e=>{if(Jt(e)!=="object")return!1;const t=Ms(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kn in e)&&!(Zt in e)},Bo=e=>{if(!vt(e)||yt(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$o=Ee("Date"),qo=Ee("File"),zo=Ee("Blob"),Vo=Ee("FileList"),Ho=e=>vt(e)&&pe(e.pipe),Qo=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pe(e.append)&&((t=Jt(e))==="formdata"||t==="object"&&pe(e.toString)&&e.toString()==="[object FormData]"))},Wo=Ee("URLSearchParams"),[Ko,Zo,Jo,Go]=["ReadableStream","Request","Response","Headers"].map(Ee),Yo=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bt(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),at(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(yt(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function On(e,t){if(yt(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const He=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,An=e=>!tt(e)&&e!==He;function Ns(){const{caseless:e,skipUndefined:t}=An(this)&&this||{},s={},r=(a,i)=>{const o=e&&On(s,i)||i;Ft(s[o])&&Ft(a)?s[o]=Ns(s[o],a):Ft(a)?s[o]=Ns({},a):at(a)?s[o]=a.slice():(!t||!tt(a))&&(s[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&bt(arguments[a],r);return s}const Xo=(e,t,s,{allOwnKeys:r}={})=>(bt(t,(a,i)=>{s&&pe(a)?e[i]=Cn(a,s):e[i]=a},{allOwnKeys:r}),e),el=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tl=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},sl=(e,t,s,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&Ms(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},rl=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},nl=e=>{if(!e)return null;if(at(e))return e;let t=e.length;if(!_n(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},al=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ms(Uint8Array)),il=(e,t)=>{const r=(e&&e[Zt]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},ol=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},ll=Ee("HTMLFormElement"),cl=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),yr=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),ul=Ee("RegExp"),Fn=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};bt(s,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},dl=e=>{Fn(e,(t,s)=>{if(pe(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(pe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},hl=(e,t)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return at(e)?r(e):r(String(e).split(t)),s},fl=()=>{},ml=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pl(e){return!!(e&&pe(e.append)&&e[kn]==="FormData"&&e[Zt])}const xl=e=>{const t=new Array(10),s=(r,a)=>{if(vt(r)){if(t.indexOf(r)>=0)return;if(yt(r))return r;if(!("toJSON"in r)){t[a]=r;const i=at(r)?[]:{};return bt(r,(o,l)=>{const d=s(o,a+1);!tt(d)&&(i[l]=d)}),t[a]=void 0,i}}return r};return s(e,0)},gl=Ee("AsyncFunction"),yl=e=>e&&(vt(e)||pe(e))&&pe(e.then)&&pe(e.catch),Pn=((e,t)=>e?setImmediate:t?((s,r)=>(He.addEventListener("message",({source:a,data:i})=>{a===He&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),He.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",pe(He.postMessage)),vl=typeof queueMicrotask<"u"?queueMicrotask.bind(He):typeof process<"u"&&process.nextTick||Pn,bl=e=>e!=null&&pe(e[Zt]),j={isArray:at,isArrayBuffer:Rn,isBuffer:yt,isFormData:Qo,isArrayBufferView:Mo,isString:Uo,isNumber:_n,isBoolean:Io,isObject:vt,isPlainObject:Ft,isEmptyObject:Bo,isReadableStream:Ko,isRequest:Zo,isResponse:Jo,isHeaders:Go,isUndefined:tt,isDate:$o,isFile:qo,isBlob:zo,isRegExp:ul,isFunction:pe,isStream:Ho,isURLSearchParams:Wo,isTypedArray:al,isFileList:Vo,forEach:bt,merge:Ns,extend:Xo,trim:Yo,stripBOM:el,inherits:tl,toFlatObject:sl,kindOf:Jt,kindOfTest:Ee,endsWith:rl,toArray:nl,forEachEntry:il,matchAll:ol,isHTMLForm:ll,hasOwnProperty:yr,hasOwnProp:yr,reduceDescriptors:Fn,freezeMethods:dl,toObjectSet:hl,toCamelCase:cl,noop:fl,toFiniteNumber:ml,findKey:On,global:He,isContextDefined:An,isSpecCompliantForm:pl,toJSONObject:xl,isAsyncFn:gl,isThenable:yl,setImmediate:Pn,asap:vl,isIterable:bl};function M(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}j.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const Ln=M.prototype,Tn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tn[e]={value:e}});Object.defineProperties(M,Tn);Object.defineProperty(Ln,"isAxiosError",{value:!0});M.from=(e,t,s,r,a,i)=>{const o=Object.create(Ln);j.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return M.call(o,l,d,s,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const jl=null;function Ss(e){return j.isPlainObject(e)||j.isArray(e)}function Dn(e){return j.endsWith(e,"[]")?e.slice(0,-2):e}function vr(e,t,s){return e?e.concat(t).map(function(a,i){return a=Dn(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function wl(e){return j.isArray(e)&&!e.some(Ss)}const Nl=j.toFlatObject(j,{},null,function(t){return/^is[A-Z]/.test(t)});function Yt(e,t,s){if(!j.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=j.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,N){return!j.isUndefined(N[y])});const r=s.metaTokens,a=s.visitor||u,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(t);if(!j.isFunction(a))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(j.isDate(x))return x.toISOString();if(j.isBoolean(x))return x.toString();if(!d&&j.isBlob(x))throw new M("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(x)||j.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,y,N){let k=x;if(x&&!N&&typeof x=="object"){if(j.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(j.isArray(x)&&wl(x)||(j.isFileList(x)||j.endsWith(y,"[]"))&&(k=j.toArray(x)))return y=Dn(y),k.forEach(function(v,A){!(j.isUndefined(v)||v===null)&&t.append(o===!0?vr([y],A,i):o===null?y:y+"[]",c(v))}),!1}return Ss(x)?!0:(t.append(vr(N,y,i),c(x)),!1)}const m=[],g=Object.assign(Nl,{defaultVisitor:u,convertValue:c,isVisitable:Ss});function h(x,y){if(!j.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(x),j.forEach(x,function(k,w){(!(j.isUndefined(k)||k===null)&&a.call(t,k,j.isString(w)?w.trim():w,y,g))===!0&&h(k,y?y.concat(w):[w])}),m.pop()}}if(!j.isObject(e))throw new TypeError("data must be an object");return h(e),t}function br(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Us(e,t){this._pairs=[],e&&Yt(e,this,t)}const Mn=Us.prototype;Mn.append=function(t,s){this._pairs.push([t,s])};Mn.toString=function(t){const s=t?function(r){return t.call(this,r,br)}:br;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Sl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Un(e,t,s){if(!t)return e;const r=s&&s.encode||Sl;j.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=j.isURLSearchParams(t)?t.toString():new Us(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class jr{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){j.forEach(this.handlers,function(r){r!==null&&t(r)})}}const In={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},El=typeof URLSearchParams<"u"?URLSearchParams:Us,Cl=typeof FormData<"u"?FormData:null,kl=typeof Blob<"u"?Blob:null,Rl={isBrowser:!0,classes:{URLSearchParams:El,FormData:Cl,Blob:kl},protocols:["http","https","file","blob","url","data"]},Is=typeof window<"u"&&typeof document<"u",Es=typeof navigator=="object"&&navigator||void 0,_l=Is&&(!Es||["ReactNative","NativeScript","NS"].indexOf(Es.product)<0),Ol=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Al=Is&&window.location.href||"http://localhost",Fl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Is,hasStandardBrowserEnv:_l,hasStandardBrowserWebWorkerEnv:Ol,navigator:Es,origin:Al},Symbol.toStringTag,{value:"Module"})),de={...Fl,...Rl};function Pl(e,t){return Yt(e,new de.classes.URLSearchParams,{visitor:function(s,r,a,i){return de.isNode&&j.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Ll(e){return j.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tl(e){const t={},s=Object.keys(e);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],t[i]=e[i];return t}function Bn(e){function t(s,r,a,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=s.length;return o=!o&&j.isArray(a)?a.length:o,d?(j.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!j.isObject(a[o]))&&(a[o]=[]),t(s,r,a[o],i)&&j.isArray(a[o])&&(a[o]=Tl(a[o])),!l)}if(j.isFormData(e)&&j.isFunction(e.entries)){const s={};return j.forEachEntry(e,(r,a)=>{t(Ll(r),a,s,0)}),s}return null}function Dl(e,t,s){if(j.isString(e))try{return(t||JSON.parse)(e),j.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const jt={transitional:In,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=j.isObject(t);if(i&&j.isHTMLForm(t)&&(t=new FormData(t)),j.isFormData(t))return a?JSON.stringify(Bn(t)):t;if(j.isArrayBuffer(t)||j.isBuffer(t)||j.isStream(t)||j.isFile(t)||j.isBlob(t)||j.isReadableStream(t))return t;if(j.isArrayBufferView(t))return t.buffer;if(j.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Pl(t,this.formSerializer).toString();if((l=j.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Yt(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),Dl(t)):t}],transformResponse:[function(t){const s=this.transitional||jt.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(j.isResponse(t)||j.isReadableStream(t))return t;if(t&&j.isString(t)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?M.from(l,M.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:de.classes.FormData,Blob:de.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],e=>{jt.headers[e]={}});const Ml=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ul=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||t[s]&&Ml[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},wr=Symbol("internals");function lt(e){return e&&String(e).trim().toLowerCase()}function Pt(e){return e===!1||e==null?e:j.isArray(e)?e.map(Pt):String(e)}function Il(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const Bl=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cs(e,t,s,r,a){if(j.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!j.isString(t)){if(j.isString(r))return t.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(t)}}function $l(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function ql(e,t){const s=j.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let xe=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function i(l,d,c){const u=lt(d);if(!u)throw new Error("header name must be a non-empty string");const m=j.findKey(a,u);(!m||a[m]===void 0||c===!0||c===void 0&&a[m]!==!1)&&(a[m||d]=Pt(l))}const o=(l,d)=>j.forEach(l,(c,u)=>i(c,u,d));if(j.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(j.isString(t)&&(t=t.trim())&&!Bl(t))o(Ul(t),s);else if(j.isObject(t)&&j.isIterable(t)){let l={},d,c;for(const u of t){if(!j.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(d=l[c])?j.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=lt(t),t){const r=j.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return Il(a);if(j.isFunction(s))return s.call(this,a,r);if(j.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=lt(t),t){const r=j.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||cs(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function i(o){if(o=lt(o),o){const l=j.findKey(r,o);l&&(!s||cs(r,r[l],l,s))&&(delete r[l],a=!0)}}return j.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!t||cs(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,r={};return j.forEach(this,(a,i)=>{const o=j.findKey(r,i);if(o){s[o]=Pt(a),delete s[i];return}const l=t?$l(i):String(i).trim();l!==i&&delete s[i],s[l]=Pt(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return j.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&j.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[wr]=this[wr]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=lt(o);r[l]||(ql(a,o),r[l]=!0)}return j.isArray(t)?t.forEach(i):i(t),this}};xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(xe.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});j.freezeMethods(xe);function us(e,t){const s=this||jt,r=t||s,a=xe.from(r.headers);let i=r.data;return j.forEach(e,function(l){i=l.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function $n(e){return!!(e&&e.__CANCEL__)}function it(e,t,s){M.call(this,e??"canceled",M.ERR_CANCELED,t,s),this.name="CanceledError"}j.inherits(it,M,{__CANCEL__:!0});function qn(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new M("Request failed with status code "+s.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function zl(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vl(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=r[i];o||(o=c),s[a]=d,r[a]=c;let m=i,g=0;for(;m!==a;)g+=s[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(g*1e3/h):void 0}}function Hl(e,t){let s=0,r=1e3/t,a,i;const o=(c,u=Date.now())=>{s=u,a=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-s;m>=r?o(c,u):(a=c,i||(i=setTimeout(()=>{i=null,o(a)},r-m)))},()=>a&&o(a)]}const qt=(e,t,s=3)=>{let r=0;const a=Vl(50,250);return Hl(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-r,c=a(d),u=o<=l;r=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},Nr=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Sr=e=>(...t)=>j.asap(()=>e(...t)),Ql=de.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,de.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(de.origin),de.navigator&&/(msie|trident)/i.test(de.navigator.userAgent)):()=>!0,Wl=de.hasStandardBrowserEnv?{write(e,t,s,r,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];j.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),j.isString(r)&&l.push(`path=${r}`),j.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),j.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Kl(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Zl(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zn(e,t,s){let r=!Kl(t);return e&&(r||s==!1)?Zl(e,t):t}const Er=e=>e instanceof xe?{...e}:e;function Ze(e,t){t=t||{};const s={};function r(c,u,m,g){return j.isPlainObject(c)&&j.isPlainObject(u)?j.merge.call({caseless:g},c,u):j.isPlainObject(u)?j.merge({},u):j.isArray(u)?u.slice():u}function a(c,u,m,g){if(j.isUndefined(u)){if(!j.isUndefined(c))return r(void 0,c,m,g)}else return r(c,u,m,g)}function i(c,u){if(!j.isUndefined(u))return r(void 0,u)}function o(c,u){if(j.isUndefined(u)){if(!j.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,m){if(m in t)return r(c,u);if(m in e)return r(void 0,c)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u,m)=>a(Er(c),Er(u),m,!0)};return j.forEach(Object.keys({...e,...t}),function(u){const m=d[u]||a,g=m(e[u],t[u],u);j.isUndefined(g)&&m!==l||(s[u]=g)}),s}const Vn=e=>{const t=Ze({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=xe.from(o),t.url=Un(zn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),j.isFormData(s)){if(de.hasStandardBrowserEnv||de.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(j.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&o.set(u,m)})}}if(de.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(t)),r||r!==!1&&Ql(t.url))){const d=a&&i&&Wl.read(i);d&&o.set(a,d)}return t},Jl=typeof XMLHttpRequest<"u",Gl=Jl&&function(e){return new Promise(function(s,r){const a=Vn(e);let i=a.data;const o=xe.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=a,u,m,g,h,x;function y(){h&&h(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function k(){if(!N)return;const v=xe.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:v,config:e,request:N};qn(function(_){s(_),y()},function(_){r(_),y()},L),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(r(new M("Request aborted",M.ECONNABORTED,e,N)),N=null)},N.onerror=function(A){const L=A&&A.message?A.message:"Network Error",I=new M(L,M.ERR_NETWORK,e,N);I.event=A||null,r(I),N=null},N.ontimeout=function(){let A=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const L=a.transitional||In;a.timeoutErrorMessage&&(A=a.timeoutErrorMessage),r(new M(A,L.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,e,N)),N=null},i===void 0&&o.setContentType(null),"setRequestHeader"in N&&j.forEach(o.toJSON(),function(A,L){N.setRequestHeader(L,A)}),j.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),l&&l!=="json"&&(N.responseType=a.responseType),c&&([g,x]=qt(c,!0),N.addEventListener("progress",g)),d&&N.upload&&([m,h]=qt(d),N.upload.addEventListener("progress",m),N.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=v=>{N&&(r(!v||v.type?new it(null,e,N):v),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const w=zl(a.url);if(w&&de.protocols.indexOf(w)===-1){r(new M("Unsupported protocol "+w+":",M.ERR_BAD_REQUEST,e));return}N.send(i||null)})},Yl=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const i=function(c){if(!a){a=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof M?u:new it(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new M(`timeout ${t} of ms exceeded`,M.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>j.asap(l),d}},Xl=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},ec=async function*(e,t){for await(const s of tc(e))yield*Xl(s,t)},tc=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Cr=(e,t,s,r)=>{const a=ec(e,t);let i=0,o,l=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){l(),d.close();return}let m=u.byteLength;if(s){let g=i+=m;s(g)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},kr=64*1024,{isFunction:Ct}=j,sc=(({Request:e,Response:t})=>({Request:e,Response:t}))(j.global),{ReadableStream:Rr,TextEncoder:_r}=j.global,Or=(e,...t)=>{try{return!!e(...t)}catch{return!1}},rc=e=>{e=j.merge.call({skipUndefined:!0},sc,e);const{fetch:t,Request:s,Response:r}=e,a=t?Ct(t):typeof fetch=="function",i=Ct(s),o=Ct(r);if(!a)return!1;const l=a&&Ct(Rr),d=a&&(typeof _r=="function"?(x=>y=>x.encode(y))(new _r):async x=>new Uint8Array(await new s(x).arrayBuffer())),c=i&&l&&Or(()=>{let x=!1;const y=new s(de.origin,{body:new Rr,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!y}),u=o&&l&&Or(()=>j.isReadableStream(new r("").body)),m={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(y,N)=>{let k=y&&y[x];if(k)return k.call(y);throw new M(`Response type '${x}' is not supported`,M.ERR_NOT_SUPPORT,N)})});const g=async x=>{if(x==null)return 0;if(j.isBlob(x))return x.size;if(j.isSpecCompliantForm(x))return(await new s(de.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(j.isArrayBufferView(x)||j.isArrayBuffer(x))return x.byteLength;if(j.isURLSearchParams(x)&&(x=x+""),j.isString(x))return(await d(x)).byteLength},h=async(x,y)=>{const N=j.toFiniteNumber(x.getContentLength());return N??g(y)};return async x=>{let{url:y,method:N,data:k,signal:w,cancelToken:v,timeout:A,onDownloadProgress:L,onUploadProgress:I,responseType:_,headers:ae,withCredentials:X="same-origin",fetchOptions:Z}=Vn(x),ie=t||fetch;_=_?(_+"").toLowerCase():"text";let T=Yl([w,v&&v.toAbortSignal()],A),D=null;const B=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let K;try{if(I&&c&&N!=="get"&&N!=="head"&&(K=await h(ae,k))!==0){let he=new s(y,{method:"POST",body:k,duplex:"half"}),Ce;if(j.isFormData(k)&&(Ce=he.headers.get("content-type"))&&ae.setContentType(Ce),he.body){const[Je,Ge]=Nr(K,qt(Sr(I)));k=Cr(he.body,kr,Je,Ge)}}j.isString(X)||(X=X?"include":"omit");const $=i&&"credentials"in s.prototype,ne={...Z,signal:T,method:N.toUpperCase(),headers:ae.normalize().toJSON(),body:k,duplex:"half",credentials:$?X:void 0};D=i&&new s(y,ne);let ee=await(i?ie(D,Z):ie(y,ne));const le=u&&(_==="stream"||_==="response");if(u&&(L||le&&B)){const he={};["status","statusText","headers"].forEach(ot=>{he[ot]=ee[ot]});const Ce=j.toFiniteNumber(ee.headers.get("content-length")),[Je,Ge]=L&&Nr(Ce,qt(Sr(L),!0))||[];ee=new r(Cr(ee.body,kr,Je,()=>{Ge&&Ge(),B&&B()}),he)}_=_||"text";let be=await m[j.findKey(m,_)||"text"](ee,x);return!le&&B&&B(),await new Promise((he,Ce)=>{qn(he,Ce,{data:be,headers:xe.from(ee.headers),status:ee.status,statusText:ee.statusText,config:x,request:D})})}catch($){throw B&&B(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new M("Network Error",M.ERR_NETWORK,x,D),{cause:$.cause||$}):M.from($,$&&$.code,x,D)}}},nc=new Map,Hn=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:a}=t,i=[r,a,s];let o=i.length,l=o,d,c,u=nc;for(;l--;)d=i[l],c=u.get(d),c===void 0&&u.set(d,c=l?new Map:rc(t)),u=c;return c};Hn();const Bs={http:jl,xhr:Gl,fetch:{get:Hn}};j.forEach(Bs,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ar=e=>`- ${e}`,ac=e=>j.isFunction(e)||e===null||e===!1;function ic(e,t){e=j.isArray(e)?e:[e];const{length:s}=e;let r,a;const i={};for(let o=0;o<s;o++){r=e[o];let l;if(a=r,!ac(r)&&(a=Bs[(l=String(r)).toLowerCase()],a===void 0))throw new M(`Unknown adapter '${l}'`);if(a&&(j.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(Ar).join(`
`):" "+Ar(o[0]):"as no adapter specified";throw new M("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Qn={getAdapter:ic,adapters:Bs};function ds(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new it(null,e)}function Fr(e){return ds(e),e.headers=xe.from(e.headers),e.data=us.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Qn.getAdapter(e.adapter||jt.adapter,e)(e).then(function(r){return ds(e),r.data=us.call(e,e.transformResponse,r),r.headers=xe.from(r.headers),r},function(r){return $n(r)||(ds(e),r&&r.response&&(r.response.data=us.call(e,e.transformResponse,r.response),r.response.headers=xe.from(r.response.headers))),Promise.reject(r)})}const Wn="1.13.2",Xt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Pr={};Xt.transitional=function(t,s,r){function a(i,o){return"[Axios v"+Wn+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new M(a(o," has been removed"+(s?" in "+s:"")),M.ERR_DEPRECATED);return s&&!Pr[o]&&(Pr[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};Xt.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function oc(e,t,s){if(typeof e!="object")throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new M("option "+i+" must be "+d,M.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}}const Lt={assertOptions:oc,validators:Xt},ke=Lt.validators;let Ke=class{constructor(t){this.defaults=t||{},this.interceptors={request:new jr,response:new jr}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Ze(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&Lt.assertOptions(r,{silentJSONParsing:ke.transitional(ke.boolean),forcedJSONParsing:ke.transitional(ke.boolean),clarifyTimeoutError:ke.transitional(ke.boolean)},!1),a!=null&&(j.isFunction(a)?s.paramsSerializer={serialize:a}:Lt.assertOptions(a,{encode:ke.function,serialize:ke.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Lt.assertOptions(s,{baseUrl:ke.spelling("baseURL"),withXsrfToken:ke.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&j.merge(i.common,i[s.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),s.headers=xe.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(d=d&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,m=0,g;if(!d){const x=[Fr.bind(this),void 0];for(x.unshift(...l),x.push(...c),g=x.length,u=Promise.resolve(s);m<g;)u=u.then(x[m++],x[m++]);return u}g=l.length;let h=s;for(;m<g;){const x=l[m++],y=l[m++];try{h=x(h)}catch(N){y.call(this,N);break}}try{u=Fr.call(this,h)}catch(x){return Promise.reject(x)}for(m=0,g=c.length;m<g;)u=u.then(c[m++],c[m++]);return u}getUri(t){t=Ze(this.defaults,t);const s=zn(t.baseURL,t.url,t.allowAbsoluteUrls);return Un(s,t.params,t.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(t){Ke.prototype[t]=function(s,r){return this.request(Ze(r||{},{method:t,url:s,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,l){return this.request(Ze(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ke.prototype[t]=s(),Ke.prototype[t+"Form"]=s(!0)});let lc=class Kn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new it(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Kn(function(a){t=a}),cancel:t}}};function cc(e){return function(s){return e.apply(null,s)}}function uc(e){return j.isObject(e)&&e.isAxiosError===!0}const Cs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cs).forEach(([e,t])=>{Cs[t]=e});function Zn(e){const t=new Ke(e),s=Cn(Ke.prototype.request,t);return j.extend(s,Ke.prototype,t,{allOwnKeys:!0}),j.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Zn(Ze(e,a))},s}const Y=Zn(jt);Y.Axios=Ke;Y.CanceledError=it;Y.CancelToken=lc;Y.isCancel=$n;Y.VERSION=Wn;Y.toFormData=Yt;Y.AxiosError=M;Y.Cancel=Y.CanceledError;Y.all=function(t){return Promise.all(t)};Y.spread=cc;Y.isAxiosError=uc;Y.mergeConfig=Ze;Y.AxiosHeaders=xe;Y.formToJSON=e=>Bn(j.isHTMLForm(e)?new FormData(e):e);Y.getAdapter=Qn.getAdapter;Y.HttpStatusCode=Cs;Y.default=Y;const{Axios:ud,AxiosError:dd,CanceledError:hd,isCancel:fd,CancelToken:md,VERSION:pd,all:xd,Cancel:gd,isAxiosError:yd,spread:vd,toFormData:bd,AxiosHeaders:jd,HttpStatusCode:wd,formToJSON:Nd,getAdapter:Sd,mergeConfig:Ed}=Y,hs={},dc=()=>{if(typeof window<"u"&&window.ENV)return console.log(" Using runtime ENV API URL:",window.ENV.VITE_API_URL),window.ENV.VITE_API_URL;const e=(hs==null?void 0:hs.VITE_API_URL)||"http://localhost:8000";return console.log(" Using build-time API URL:",e),e},ct=dc();class hc{constructor(){os(this,"client");os(this,"refreshPromise",null);this.client=Y.create({baseURL:ct,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{const s=this.getAccessToken();return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var r;const s=t.config;if(((r=t.response)==null?void 0:r.status)===401&&!s._retry){s._retry=!0;try{const a=await this.refreshAccessToken();return s.headers.Authorization=`Bearer ${a}`,this.client(s)}catch(a){return this.handleAuthError(),Promise.reject(a)}}return this.handleApiError(t),Promise.reject(t)})}getAccessToken(){return localStorage.getItem("access_token")}getRefreshToken(){return localStorage.getItem("refresh_token")}setTokens(t,s){localStorage.setItem("access_token",t),localStorage.setItem("refresh_token",s)}clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user")}async refreshAccessToken(){if(this.refreshPromise)return this.refreshPromise;const t=this.getRefreshToken();if(!t)throw new Error("No refresh token available");return this.refreshPromise=this.client.post("/auth/refresh",{refresh_token:t}).then(s=>{const{access_token:r,refresh_token:a}=s.data;return this.setTokens(r,a),this.refreshPromise=null,r}).catch(s=>{throw this.refreshPromise=null,s}),this.refreshPromise}handleAuthError(){this.clearTokens(),window.location.href="/login",U.error("Session expired. Please login again.")}handleApiError(t){var r,a,i;const s=((a=(r=t.response)==null?void 0:r.data)==null?void 0:a.detail)||t.message||"An error occurred";((i=t.response)==null?void 0:i.status)!==401&&U.error(s)}async login(t){var r;console.log(" Login attempt:",{email:t.email,baseURL:ct});const s=new URLSearchParams;s.append("username",t.email),s.append("password",t.password);try{const a=await this.client.post("/auth/login",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return console.log(" Login success:",a.data),a.data.access_token&&this.setTokens(a.data.access_token,a.data.refresh_token),a.data}catch(a){throw console.error(" Login error:",((r=a.response)==null?void 0:r.data)||a.message),a}}async confirmLoginOtp(t){const s=await this.client.post("/auth/confirm-login-otp",t);return s.data.access_token&&this.setTokens(s.data.access_token,s.data.refresh_token),s.data}async logout(){const t=this.getRefreshToken();if(t)try{await this.client.post("/auth/logout",{refresh_token:t})}catch{}this.clearTokens()}async getCurrentUser(){return(await this.client.get("/users/me")).data}async getOrganizations(){return(await this.client.get("/organizations")).data}async getOrganization(t){return(await this.client.get(`/organizations/${t}`)).data}async createOrganization(t){return(await this.client.post("/organizations",t)).data}async updateOrganization(t,s){return(await this.client.patch(`/organizations/${t}`,s)).data}async switchOrganization(t){return(await this.client.post(`/organizations/${t}/switch`)).data}async getOrganizationMembers(t){return(await this.client.get(`/organizations/${t}/members`)).data}async updateMemberPermissions(t,s,r){return(await this.client.patch(`/organizations/${t}/members/${s}`,r)).data}async removeMember(t,s){return(await this.client.delete(`/organizations/${t}/members/${s}`)).data}async inviteUser(t,s){return(await this.client.post(`/organizations/${t}/invitations`,s)).data}async getOrganizationStats(t){return(await this.client.get(`/organizations/${t}/stats`)).data}async getUsers(t){return(await this.client.get("/admin/users",{params:t})).data}async getUser(t){return(await this.client.get(`/admin/users/${t}`)).data}async createUser(t){return(await this.client.post("/admin/users",t)).data}async updateUser(t,s){return(await this.client.patch(`/admin/users/${t}`,s)).data}async deleteUser(t){return(await this.client.delete(`/admin/users/${t}`)).data}async getProperties(t){return(await this.client.get("/properties",{params:t})).data}async getProperty(t){return(await this.client.get(`/properties/${t}`)).data}async createProperty(t){return(await this.client.post("/properties",t)).data}async updateProperty(t,s){return(await this.client.patch(`/properties/${t}`,s)).data}async deleteProperty(t){return(await this.client.delete(`/properties/${t}`)).data}async getRooms(t){return(await this.client.get("/rooms",{params:t})).data}async getRoom(t){return(await this.client.get(`/rooms/${t}`)).data}async createRoom(t){return(await this.client.post("/rooms",t)).data}async updateRoom(t,s){return(await this.client.patch(`/rooms/${t}`,s)).data}async deleteRoom(t){return(await this.client.delete(`/rooms/${t}`)).data}async getBookings(t){return(await this.client.get("/bookings",{params:t})).data}async getBooking(t){return(await this.client.get(`/bookings/${t}`)).data}async createBooking(t){return(await this.client.post("/bookings",t)).data}async updateBooking(t,s){return(await this.client.patch(`/bookings/${t}`,s)).data}async cancelBooking(t){return(await this.client.delete(`/bookings/${t}`)).data}async getAllBookings(t){return(await this.client.get("/staff/bookings",{params:t})).data}async modifyBooking(t,s){return(await this.client.patch(`/staff/bookings/${t}`,s)).data}async getRevenueAnalytics(t){return(await this.client.get("/analytics/revenue",{params:t})).data}async getOccupancyAnalytics(t){return(await this.client.get("/analytics/occupancy",{params:t})).data}async getBookingAnalytics(t){return(await this.client.get("/analytics/bookings",{params:t})).data}async getCustomerAnalytics(t){return(await this.client.get("/analytics/customers",{params:t})).data}async getAnalyticsSummary(t){return(await this.client.get("/analytics/summary",{params:t})).data}async getTopPerformers(t){return(await this.client.get("/analytics/top-performers",{params:t})).data}async getAdminAnalytics(){return(await this.client.get("/admin/analytics/overview")).data}async getAdminRevenue(t){return(await this.client.get("/admin/analytics/revenue",{params:t})).data}async searchProperties(t){return(await this.client.get("/search/properties",{params:t})).data}async getPropertyDetails(t,s){return(await this.client.get(`/search/properties/${t}`,{params:s})).data}async checkAvailability(t,s){return(await this.client.get(`/search/availability/${t}`,{params:s})).data}async getPopularCities(t=20){return(await this.client.get("/search/cities",{params:{limit:t}})).data}async getPropertyTypes(){return(await this.client.get("/search/property-types")).data}async getPriceRange(t){return(await this.client.get("/search/price-range",{params:t})).data}async getSubscriptionPlans(){return(await this.client.get("/subscriptions/plans")).data}async getCurrentSubscription(){return(await this.client.get("/subscriptions/current")).data}async createSubscription(t){return(await this.client.post("/subscriptions",t)).data}async getUsageStatistics(){return(await this.client.get("/subscriptions/usage")).data}async upgradeSubscription(t){return(await this.client.patch("/subscriptions/upgrade",t)).data}async cancelSubscription(t){return(await this.client.post("/subscriptions/cancel",t)).data}async getInvoices(t){return(await this.client.get("/subscriptions/invoices",{params:t})).data}async getInvoiceDetails(t){return(await this.client.get(`/subscriptions/invoices/${t}`)).data}async getSubscriptionAnalytics(){return(await this.client.get("/subscriptions/analytics")).data}async checkOperationLimits(t){return(await this.client.post("/subscriptions/check-limits",{operation:t})).data}async getPublicDestinations(){return(await Y.create({baseURL:ct,timeout:3e4}).get("/public/cities")).data}async searchPublicProperties(t){return(await Y.create({baseURL:ct,timeout:3e4}).get("/search/properties",{params:t})).data}async getPublicPropertyDetails(t,s){return(await Y.create({baseURL:ct,timeout:3e4}).get(`/search/properties/${t}`,{params:s})).data}isAuthenticated(){return!!this.getAccessToken()}async request(t){return(await this.client(t)).data}}const H=new hc,Se=_o()(To((e,t)=>({user:null,currentOrganization:null,organizations:[],isAuthenticated:!1,isLoading:!1,otpRequired:!1,otpEmail:"",login:async s=>{var r,a;try{e({isLoading:!0});const i=await H.login(s);if(i.otp_required)e({otpRequired:!0,otpEmail:i.email,isLoading:!1}),U.success("OTP code sent to your email");else{const o=await H.getCurrentUser();e({user:o,isAuthenticated:!0,isLoading:!1,otpRequired:!1,otpEmail:""}),await t().getOrganizations(),U.success(`Welcome back, ${o.full_name}!`)}}catch(i){e({isLoading:!1});const o=((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.detail)||"Login failed";throw U.error(o),i}},confirmOtp:async s=>{var r,a;try{e({isLoading:!0});const{otpEmail:i}=t(),o=await H.confirmLoginOtp({email:i,code:s}),l=await H.getCurrentUser();e({user:l,isAuthenticated:!0,isLoading:!1,otpRequired:!1,otpEmail:""}),await t().getOrganizations(),U.success(`Welcome back, ${l.full_name}!`)}catch(i){e({isLoading:!1});const o=((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.detail)||"Invalid OTP code";throw U.error(o),i}},logout:async()=>{console.log(" Logout initiated...");try{await H.logout(),console.log(" API logout successful")}catch(s){console.log(" API logout error (ignored):",s)}finally{console.log(" Clearing auth state..."),e({user:null,currentOrganization:null,organizations:[],isAuthenticated:!1,otpRequired:!1,otpEmail:""}),U.success("Logged out successfully"),console.log(" Logout completed")}},getCurrentUser:async()=>{var s;try{if(!H.isAuthenticated())return;const r=await H.getCurrentUser();e({user:r,isAuthenticated:!0}),r.current_organization_id&&await t().getOrganizations()}catch(r){((s=r.response)==null?void 0:s.status)===401&&t().clearAuth()}},getOrganizations:async()=>{try{const s=await H.getOrganizations(),{user:r}=t();let a=null;r!=null&&r.current_organization_id&&(a=s.find(i=>i.id===r.current_organization_id)||null),e({organizations:s,currentOrganization:a})}catch(s){console.error("Failed to load organizations:",s)}},switchOrganization:async s=>{var r,a;try{e({isLoading:!0}),await H.switchOrganization(s);const i=await H.getCurrentUser(),{organizations:o}=t(),l=o.find(d=>d.id===s)||null;e({user:i,currentOrganization:l,isLoading:!1}),U.success(`Switched to ${(l==null?void 0:l.name)||"organization"}`)}catch(i){e({isLoading:!1});const o=((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.detail)||"Failed to switch organization";throw U.error(o),i}},updateUser:s=>{const{user:r}=t();r&&e({user:{...r,...s}})},clearAuth:()=>{e({user:null,currentOrganization:null,organizations:[],isAuthenticated:!1,otpRequired:!1,otpEmail:""})}}),{name:"auth-storage",partialize:e=>({user:e.user,currentOrganization:e.currentOrganization,organizations:e.organizations,isAuthenticated:e.isAuthenticated})})),fc=()=>{const{isAuthenticated:e,otpRequired:t}=Se();return q.useEffect(()=>{e&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.clear(),window.location.reload())},[]),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100",children:n.jsx("div",{className:"min-h-screen flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-lg w-full space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-xl flex items-center justify-center",children:n.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Hotel Booking Admin"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your hotel booking system"})]}),n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:n.jsx(Yr,{})}),n.jsx("div",{className:"text-center text-sm text-gray-500",children:n.jsx("p",{children:" 2024 Hotel Booking System. All rights reserved."})})]})})})};function mc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const pc=p.forwardRef(mc);function xc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const gc=p.forwardRef(xc);function yc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Jn=p.forwardRef(yc);function vc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const bc=p.forwardRef(vc);function jc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const wc=p.forwardRef(jc);function Nc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Sc=p.forwardRef(Nc);function Ec({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const qe=p.forwardRef(Ec);function Cc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Ne=p.forwardRef(Cc);function kc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Rc=p.forwardRef(kc);function _c({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fs=p.forwardRef(_c);function Oc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Ac=p.forwardRef(Oc);function Fc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Lr=p.forwardRef(Fc);function Pc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Gn=p.forwardRef(Pc);function Lc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Tc=p.forwardRef(Lc);function Dc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $s=p.forwardRef(Dc);function Mc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Tr=p.forwardRef(Mc);function Uc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const ks=p.forwardRef(Uc);function Ic({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Rs=p.forwardRef(Ic);function Bc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const $c=p.forwardRef(Bc);function qc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const ms=p.forwardRef(qc);function zc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const es=p.forwardRef(zc);function Vc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const st=p.forwardRef(Vc);function Hc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Qc=p.forwardRef(Hc);function Wc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const qs=p.forwardRef(Wc);function Kc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Zc=p.forwardRef(Kc);function Jc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Gc=p.forwardRef(Jc);function Yc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const zs=p.forwardRef(Yc);function Xc({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const eu=p.forwardRef(Xc);function tu({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const su=p.forwardRef(tu);function ru({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const wt=p.forwardRef(ru);function nu({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Vs=p.forwardRef(nu);function au({title:e,titleId:t,...s},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const iu=p.forwardRef(au),ou=({userType:e,open:t,onClose:s})=>{var u,m,g;const r=As(),{user:a,currentOrganization:i,logout:o}=Se(),l=async()=>{try{await o()}catch(h){console.error("Logout error:",h)}},c=(()=>{switch(e){case"admin":return[{id:"dashboard",label:"Dashboard",icon:ms,path:"/admin/dashboard"},{id:"users",label:"Users",icon:Vs,path:"/admin/users"},{id:"organizations",label:"Organizations",icon:qe,path:"/admin/organizations"},{id:"properties",label:"Properties",icon:qe,path:"/admin/properties"},{id:"bookings",label:"Bookings",icon:Ne,path:"/admin/bookings"},{id:"analytics",label:"Analytics",icon:Rc,path:"/admin/analytics"}];case"staff":return[{id:"dashboard",label:"Dashboard",icon:ms,path:"/staff/dashboard"},{id:"bookings",label:"Bookings",icon:Ne,path:"/staff/bookings"},{id:"customers",label:"Customers",icon:qs,path:"/staff/customers"}];case"organization":return[{id:"dashboard",label:"Dashboard",icon:ms,path:"/organization/dashboard"},{id:"properties",label:"Properties",icon:qe,path:"/organization/properties"},{id:"bookings",label:"Bookings",icon:Ne,path:"/organization/bookings"},{id:"members",label:"Team Members",icon:wt,path:"/organization/members"},{id:"subscription",label:"Subscription",icon:Tc,path:"/organization/subscription"},{id:"settings",label:"Settings",icon:Gn,path:"/organization/settings"}];default:return[]}})();return n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:s,children:n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),n.jsx("div",{className:ye("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",t?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-primary-600",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 bg-white rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"h-5 w-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),n.jsx("span",{className:"ml-2 text-white font-semibold text-lg",children:"Hotel Admin"})]})}),e==="organization"&&i&&n.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:i.name}),n.jsxs("div",{className:"text-xs text-gray-500 capitalize",children:[i.subscription_plan.toLowerCase()," Plan"]})]}),n.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:c.map(h=>{const x=r.pathname===h.path,y=h.icon;return n.jsxs(va,{to:h.path,className:ye("sidebar-link",x&&"active"),onClick:s,children:[n.jsx(y,{className:"h-5 w-5 mr-3"}),n.jsx("span",{className:"font-medium",children:h.label}),h.badge&&n.jsx("span",{className:"ml-auto bg-primary-100 text-primary-600 text-xs px-2 py-1 rounded-full",children:h.badge})]},h.id)})}),n.jsxs("div",{className:"px-4 py-4 border-t border-gray-200 space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium text-sm",children:((m=(u=a==null?void 0:a.full_name)==null?void 0:u.charAt(0))==null?void 0:m.toUpperCase())||"A"})}),n.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:(a==null?void 0:a.full_name)||"Administrator"}),n.jsx("div",{className:"text-xs text-gray-500 capitalize",children:((g=a==null?void 0:a.role)==null?void 0:g.toLowerCase())||"admin"})]})]}),n.jsxs("button",{onClick:l,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(Jn,{className:"h-4 w-4 mr-3"}),"Sign out"]})]})]})})]})},lu=({onMenuClick:e})=>{var o,l,d;const{user:t,logout:s}=Se(),[r]=p.useState([{id:1,title:"New booking received",message:"Room 101 booked for tomorrow",time:"5 min ago",unread:!0},{id:2,title:"Payment confirmed",message:"Booking #12345 payment processed",time:"1 hour ago",unread:!0}]),a=async()=>{try{await s()}catch(c){console.error("Logout error:",c)}},i=r.filter(c=>c.unread).length;return n.jsx("header",{className:"dashboard-header",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{className:"header-left",children:[n.jsx("button",{type:"button",className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:e,children:n.jsx(wc,{className:"h-6 w-6"})}),n.jsx("h1",{className:"ml-4 lg:ml-0 text-2xl font-semibold text-gray-900",style:{margin:0,padding:0,lineHeight:"1",marginTop:"-8px"},children:"Dashboard"})]}),n.jsxs("div",{className:"header-right",children:[n.jsxs(Ae,{as:"div",className:"relative",children:[n.jsx(Ae.Button,{className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500",children:n.jsxs("div",{className:"relative",children:[n.jsx(Sc,{className:"h-6 w-6"}),i>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:i})]})}),n.jsx(ar,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsx(Ae.Items,{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Notifications"}),n.jsx("div",{className:"space-y-3",children:r.map(c=>n.jsxs("div",{className:ye("p-3 rounded-lg border",c.unread?"bg-primary-50 border-primary-200":"bg-gray-50 border-gray-200"),children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.message})]}),c.unread&&n.jsx("div",{className:"h-2 w-2 bg-primary-600 rounded-full ml-2 mt-1"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:c.time})]},c.id))}),n.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:n.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all notifications"})})]})})})]}),n.jsxs(Ae,{as:"div",className:"relative",children:[n.jsxs(Ae.Button,{className:"flex items-center space-x-3 p-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",children:[n.jsx("div",{className:"h-8 w-8 bg-primary-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium text-sm",children:((l=(o=t==null?void 0:t.full_name)==null?void 0:o.charAt(0))==null?void 0:l.toUpperCase())||"A"})}),n.jsxs("div",{className:"hidden md:block text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:(t==null?void 0:t.full_name)||"Administrator"}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:((d=t==null?void 0:t.role)==null?void 0:d.toLowerCase())||"admin"})]})]}),n.jsx(ar,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsxs(Ae.Items,{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.full_name}),n.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email}),n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 mt-2 capitalize",children:t==null?void 0:t.role.toLowerCase()})]}),n.jsxs("div",{className:"py-2",children:[n.jsx(Ae.Item,{children:({active:c})=>n.jsxs("button",{className:ye("flex items-center w-full px-4 py-2 text-sm text-gray-700",c&&"bg-gray-100"),children:[n.jsx(su,{className:"h-4 w-4 mr-3"}),"Profile"]})}),n.jsx(Ae.Item,{children:({active:c})=>n.jsxs("button",{className:ye("flex items-center w-full px-4 py-2 text-sm text-gray-700",c&&"bg-gray-100"),children:[n.jsx(Gn,{className:"h-4 w-4 mr-3"}),"Settings"]})}),n.jsx("div",{className:"border-t border-gray-200 my-2"}),n.jsx(Ae.Item,{children:({active:c})=>n.jsxs("button",{onClick:a,className:ye("flex items-center w-full px-4 py-2 text-sm text-red-700",c&&"bg-red-50"),children:[n.jsx(Jn,{className:"h-4 w-4 mr-3"}),"Sign out"]})})]})]})})]})]})]})})})},ps=({userType:e})=>{const[t,s]=p.useState(!1);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(ou,{userType:e,open:t,onClose:()=>s(!1)}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsx(lu,{onMenuClick:()=>s(!0)}),n.jsx("main",{className:"py-4",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(Yr,{})})})]})]})},cu=()=>{const e=Fs(),[t,s]=p.useState({city:"",check_in:"",check_out:"",guests:2}),[r,a]=p.useState([]),[i,o]=p.useState(!1);p.useEffect(()=>{const u=new Date,m=new Date(u);m.setDate(m.getDate()+1),s(g=>({...g,check_in:u.toISOString().split("T")[0],check_out:m.toISOString().split("T")[0]})),l()},[]);const l=async()=>{var u;try{const m=await H.getPublicDestinations();a(((u=m.destinations)==null?void 0:u.slice(0,8))||[])}catch(m){console.error("Failed to load destinations:",m)}},d=async u=>{if(u.preventDefault(),!t.city.trim()){U.error("Please enter a destination");return}o(!0);try{const m=new URLSearchParams({city:t.city,check_in:t.check_in,check_out:t.check_out,guests:t.guests.toString()});e(`/search?${m.toString()}`)}catch{U.error("Search failed. Please try again.")}finally{o(!1)}},c=u=>{s(m=>({...m,city:u}))};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-primary-600",children:"HotelBooking"})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/auth/login"),className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign In"}),n.jsx("button",{onClick:()=>e("/auth/register"),className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:"Sign Up"})]})]})})}),n.jsxs("section",{className:"relative bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),n.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Find Your Perfect Stay"}),n.jsx("p",{className:"text-xl md:text-2xl mb-12 text-primary-100 max-w-3xl mx-auto",children:"Discover amazing hotels and accommodations worldwide. Book with confidence and enjoy your journey."}),n.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 max-w-4xl mx-auto",children:n.jsxs("form",{onSubmit:d,className:"space-y-4 md:space-y-0 md:flex md:items-end md:space-x-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(st,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),n.jsx("input",{type:"text",value:t.city,onChange:u=>s(m=>({...m,city:u.target.value})),placeholder:"Where are you going?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900",required:!0})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Check-in"]}),n.jsx("input",{type:"date",value:t.check_in,onChange:u=>s(m=>({...m,check_in:u.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900",required:!0})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Check-out"]}),n.jsx("input",{type:"date",value:t.check_out,onChange:u=>s(m=>({...m,check_out:u.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900",required:!0})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(wt,{className:"w-4 h-4 inline mr-1"}),"Guests"]}),n.jsx("select",{value:t.guests,onChange:u=>s(m=>({...m,guests:parseInt(u.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900",children:[1,2,3,4,5,6,7,8].map(u=>n.jsxs("option",{value:u,children:[u," Guest",u!==1?"s":""]},u))})]}),n.jsx("button",{type:"submit",disabled:i,className:"w-full md:w-auto bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):n.jsxs(n.Fragment,{children:[n.jsx(es,{className:"w-5 h-5 mr-2"}),"Search Hotels"]})})]})})]})})]}),r.length>0&&n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Popular Destinations"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Discover amazing places around the world"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:r.map((u,m)=>n.jsxs("div",{onClick:()=>c(u.city),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer p-6 text-center",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:u.city}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.country}),n.jsxs("p",{className:"text-xs text-primary-600",children:[u.property_count," properties"]})]},m))})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose Us"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Experience the best in hotel booking"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center p-6",children:[n.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(zs,{className:"w-8 h-8 text-primary-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Best Selection"}),n.jsx("p",{className:"text-gray-600",children:"Choose from thousands of hotels, apartments, and unique accommodations worldwide."})]}),n.jsxs("div",{className:"text-center p-6",children:[n.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx($s,{className:"w-8 h-8 text-primary-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Best Prices"}),n.jsx("p",{className:"text-gray-600",children:"We guarantee the best prices with our price matching policy and exclusive deals."})]}),n.jsxs("div",{className:"text-center p-6",children:[n.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Gc,{className:"w-8 h-8 text-primary-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Secure Booking"}),n.jsx("p",{className:"text-gray-600",children:"Your booking is protected with our secure payment system and instant confirmation."})]})]})]})}),n.jsx("section",{className:"py-16 bg-primary-600 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Start Your Journey?"}),n.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Join millions of travelers who trust us with their accommodation needs"}),n.jsx("button",{onClick:()=>e("/search"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Explore Hotels"})]})}),n.jsx("footer",{className:"bg-gray-900 text-white py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"HotelBooking"}),n.jsx("p",{className:"text-gray-400",children:"Your trusted partner for finding the perfect accommodation worldwide."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2 text-gray-400",children:[n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-white",children:"About Us"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-white",children:"Careers"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-white",children:"Press"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),n.jsxs("ul",{className:"space-y-2 text-gray-400",children:[n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-white",children:"Help Center"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-white",children:"Contact Us"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-white",children:"Safety"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Contact"}),n.jsxs("div",{className:"space-y-2 text-gray-400",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(qs,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:"+1 (555) 123-4567"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(st,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:"24/7 Support"})]})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:n.jsx("p",{children:" 2024 HotelBooking. All rights reserved."})})]})})]})},Oe=({size:e="md",color:t="primary",className:s})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},a={primary:"border-primary-600",white:"border-white",gray:"border-gray-600"};return n.jsx("div",{className:ye("spinner",r[e],a[t],s)})},uu=()=>{const e=Fs(),[t,s]=Xr(),[r,a]=p.useState([]),[i,o]=p.useState(!0),[l,d]=p.useState(0),[c,u]=p.useState(!1),[m,g]=p.useState(!1),[h,x]=p.useState({city:t.get("city")||"",check_in:t.get("check_in")||"",check_out:t.get("check_out")||"",guests:parseInt(t.get("guests")||"2"),property_type:t.get("property_type")||"",min_price:parseInt(t.get("min_price")||"0"),max_price:parseInt(t.get("max_price")||"1000")});p.useEffect(()=>{y()},[t]);const y=async()=>{o(!0);try{const v={city:h.city,check_in:h.check_in,check_out:h.check_out,guests:h.guests,property_type:h.property_type||void 0,min_price:h.min_price||void 0,max_price:h.max_price||void 0,limit:20,offset:0},A=await H.searchPublicProperties(v);a(A.properties||[]),d(A.total||0),u(A.has_more||!1)}catch(v){console.error("Search failed:",v),U.error("Failed to search properties")}finally{o(!1)}},N=(v,A)=>{const L={...h,[v]:A};x(L);const I=new URLSearchParams;Object.entries(L).forEach(([_,ae])=>{ae&&ae!==""&&ae!==0&&I.set(_,ae.toString())}),s(I)},k=v=>{const A=new URLSearchParams({check_in:h.check_in,check_out:h.check_out,guests:h.guests.toString()});e(`/property/${v}?${A.toString()}`)},w=()=>{if(!h.check_in||!h.check_out)return 0;const v=new Date(h.check_in),A=new Date(h.check_out);return Math.ceil((A.getTime()-v.getTime())/(1e3*60*60*24))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("button",{onClick:()=>e("/"),className:"text-2xl font-bold text-primary-600 hover:text-primary-700",children:"HotelBooking"})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>e("/auth/login"),className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign In"}),n.jsx("button",{onClick:()=>e("/auth/register"),className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:"Sign Up"})]})]})})}),n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:h.city?`Hotels in ${h.city}`:"Search Results"}),n.jsx("p",{className:"text-gray-600 mt-1",children:h.check_in&&h.check_out&&n.jsxs(n.Fragment,{children:[new Date(h.check_in).toLocaleDateString()," - ",new Date(h.check_out).toLocaleDateString()," ",w()," night",w()!==1?"s":""," ",h.guests," guest",h.guests!==1?"s":""]})}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l," properties found"]})]}),n.jsxs("button",{onClick:()=>g(!m),className:"mt-4 md:mt-0 flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(pc,{className:"w-5 h-5 mr-2"}),"Filters"]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[m&&n.jsxs("div",{className:"lg:w-80 bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(st,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),n.jsx("input",{type:"text",value:h.city,onChange:v=>N("city",v.target.value),placeholder:"Where are you going?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Check-in"]}),n.jsx("input",{type:"date",value:h.check_in,onChange:v=>N("check_in",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ne,{className:"w-4 h-4 inline mr-1"}),"Check-out"]}),n.jsx("input",{type:"date",value:h.check_out,onChange:v=>N("check_out",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(wt,{className:"w-4 h-4 inline mr-1"}),"Guests"]}),n.jsx("select",{value:h.guests,onChange:v=>N("guests",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[1,2,3,4,5,6,7,8].map(v=>n.jsxs("option",{value:v,children:[v," Guest",v!==1?"s":""]},v))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),n.jsxs("select",{value:h.property_type,onChange:v=>N("property_type",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Types"}),n.jsx("option",{value:"HOTEL",children:"Hotel"}),n.jsx("option",{value:"APARTMENT",children:"Apartment"}),n.jsx("option",{value:"VILLA",children:"Villa"}),n.jsx("option",{value:"HOSTEL",children:"Hostel"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($s,{className:"w-4 h-4 inline mr-1"}),"Price Range (per night)"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"number",value:h.min_price,onChange:v=>N("min_price",parseInt(v.target.value)||0),placeholder:"Min",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),n.jsx("input",{type:"number",value:h.max_price,onChange:v=>N("max_price",parseInt(v.target.value)||1e3),placeholder:"Max",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),n.jsx("div",{className:"flex-1",children:i?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Oe,{})}):r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),n.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria"})]}):n.jsx("div",{className:"space-y-6",children:r.map(v=>n.jsx("div",{onClick:()=>k(v.id),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",children:n.jsxs("div",{className:"flex flex-col md:flex-row",children:[n.jsx("div",{className:"md:w-80 h-48 md:h-auto",children:n.jsx("img",{src:v.main_image_url||"/placeholder-hotel.jpg",alt:v.name,className:"w-full h-full object-cover",onError:A=>{A.target.src="/placeholder-hotel.jpg"}})}),n.jsxs("div",{className:"flex-1 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:v.name}),n.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[n.jsx(st,{className:"w-4 h-4 mr-1"}),n.jsxs("span",{children:[v.city,", ",v.country]})]}),v.star_rating>0&&n.jsx("div",{className:"flex items-center mb-2",children:[...Array(v.star_rating)].map((A,L)=>n.jsx(zs,{className:"w-4 h-4 text-yellow-400 fill-current"},L))})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",v.min_price]}),n.jsx("div",{className:"text-sm text-gray-600",children:"per night"}),w()>0&&n.jsxs("div",{className:"text-sm text-gray-500",children:["$",(v.min_price*w()).toFixed(2)," total"]})]})]}),n.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:v.description}),v.available_room_types&&v.available_room_types.length>0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Available Rooms:"}),n.jsxs("div",{className:"space-y-2",children:[v.available_room_types.slice(0,2).map(A=>n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-700",children:A.name}),n.jsxs("span",{className:"text-gray-600",children:[A.available_count," available  $",A.price_per_night,"/night"]})]},A.id)),v.available_room_types.length>2&&n.jsxs("div",{className:"text-sm text-primary-600",children:["+",v.available_room_types.length-2," more room types"]})]})]})]})]})},v.id))})})]})})]})},du=()=>{const{propertyId:e}=ba(),t=Fs(),[s]=Xr(),[r,a]=p.useState(null),[i,o]=p.useState(!0),[l,d]=p.useState(null),[c,u]=p.useState(!1),m=s.get("check_in")||"",g=s.get("check_out")||"",h=parseInt(s.get("guests")||"2");p.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(e){o(!0);try{const w=m&&g?{check_in:m,check_out:g,guests:h}:void 0,v=await H.getPublicPropertyDetails(e,w);a(v)}catch(w){console.error("Failed to load property details:",w),U.error("Failed to load property details"),t("/search")}finally{o(!1)}}},y=()=>{if(!m||!g)return 0;const w=new Date(m),v=new Date(g);return Math.ceil((v.getTime()-w.getTime())/(1e3*60*60*24))},N=w=>{d(w),u(!0)},k=()=>{const w=new URLSearchParams({property_id:e||"",room_type_id:(l==null?void 0:l.id)||"",check_in:m,check_out:g,guests:h.toString()});t(`/auth/register?${w.toString()}`)};return i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx(Oe,{})}):r?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("button",{onClick:()=>t("/"),className:"text-2xl font-bold text-primary-600 hover:text-primary-700",children:"HotelBooking"})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>t("/search"),className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Back to Search"}),n.jsx("button",{onClick:()=>t("/auth/login"),className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:"Sign In"}),n.jsx("button",{onClick:()=>t("/auth/register"),className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:"Sign Up"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:n.jsxs("div",{className:"h-96 relative",children:[n.jsx("img",{src:r.main_image_url||"/placeholder-hotel.jpg",alt:r.name,className:"w-full h-full object-cover",onError:w=>{w.target.src="/placeholder-hotel.jpg"}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-end",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.name}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(st,{className:"w-5 h-5 mr-2"}),n.jsxs("span",{className:"text-lg",children:[r.address,", ",r.city,", ",r.country]})]}),r.star_rating>0&&n.jsxs("div",{className:"flex items-center",children:[[...Array(r.star_rating)].map((w,v)=>n.jsx(zs,{className:"w-5 h-5 text-yellow-400 fill-current"},v)),n.jsxs("span",{className:"ml-2 text-lg",children:[r.star_rating," Star ",r.property_type]})]})]})})]})}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this property"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description||"No description available."})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Details"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Check-in"}),n.jsx("div",{className:"text-gray-600",children:r.check_in_time})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Check-out"}),n.jsx("div",{className:"text-gray-600",children:r.check_out_time})]})]}),r.contact_phone&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(qs,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Contact"}),n.jsx("div",{className:"text-gray-600",children:r.contact_phone})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(st,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Property Type"}),n.jsx("div",{className:"text-gray-600",children:r.property_type})]})]})]})]}),(r.cancellation_policy||r.house_rules)&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Policies"}),r.cancellation_policy&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Cancellation Policy"}),n.jsx("p",{className:"text-gray-700",children:r.cancellation_policy})]}),r.house_rules&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"House Rules"}),n.jsx("p",{className:"text-gray-700",children:r.house_rules})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Available Rooms"}),m&&g&&n.jsx("div",{className:"mb-4 p-4 bg-primary-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center text-primary-700",children:[n.jsx(Ne,{className:"w-5 h-5 mr-2"}),n.jsxs("span",{className:"font-medium",children:[new Date(m).toLocaleDateString()," - ",new Date(g).toLocaleDateString()]}),n.jsx("span",{className:"mx-2",children:""}),n.jsx(wt,{className:"w-5 h-5 mr-1"}),n.jsxs("span",{children:[h," guest",h!==1?"s":""]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:[y()," night",y()!==1?"s":""]})]})}),r.available_room_types&&r.available_room_types.length>0?n.jsx("div",{className:"space-y-4",children:r.available_room_types.map(w=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:w.name}),n.jsx("p",{className:"text-gray-600 mb-2",children:w.description}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[n.jsxs("span",{children:["Max ",w.max_occupancy," guests"]}),n.jsxs("span",{children:[w.available_count," available"]})]})]}),n.jsxs("div",{className:"text-right ml-4",children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",w.price_per_night]}),n.jsx("div",{className:"text-sm text-gray-600",children:"per night"}),y()>0&&n.jsxs("div",{className:"text-lg font-semibold text-primary-600 mt-1",children:["$",w.price," total"]})]})]}),w.rate_plans&&w.rate_plans.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Rate Options:"}),n.jsx("div",{className:"space-y-1",children:w.rate_plans.map(v=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[v.is_refundable?n.jsx(fs,{className:"w-4 h-4 text-green-500 mr-2"}):n.jsx(iu,{className:"w-4 h-4 text-red-500 mr-2"}),n.jsx("span",{className:"text-gray-700",children:v.name})]}),n.jsx("span",{className:"text-gray-600",children:v.is_refundable?"Free cancellation":"Non-refundable"})]},v.id))})]}),n.jsx("button",{onClick:()=>N(w),disabled:w.available_count===0,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:w.available_count===0?"Sold Out":"Select Room"})]},w.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-600",children:"No rooms available for the selected dates."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try different dates or contact the property directly."})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Book Your Stay"}),r.min_price&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["From $",r.min_price]}),n.jsx("div",{className:"text-gray-600",children:"per night"})]}),m&&g&&y()>0&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your stay"}),n.jsxs("div",{className:"font-medium",children:[y()," nights"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(m).toLocaleDateString()," - ",new Date(g).toLocaleDateString()]})]}),n.jsx("button",{onClick:()=>u(!0),className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-700 transition-colors mb-4",children:"Book Now"}),n.jsxs("div",{className:"text-center text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center justify-center mb-1",children:[n.jsx(fs,{className:"w-4 h-4 text-green-500 mr-1"}),"Free cancellation"]}),n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(fs,{className:"w-4 h-4 text-green-500 mr-1"}),"No booking fees"]})]})]})})]})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Complete Your Booking"}),l&&n.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:l.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:l.description}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:[y()," nights  ",h," guests"]}),n.jsxs("span",{className:"font-bold text-primary-600",children:["$",l.price]})]})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"To complete your booking, please sign up or sign in to your account."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Continue"})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property not found"}),n.jsx("button",{onClick:()=>t("/search"),className:"text-primary-600 hover:text-primary-700",children:"Back to search"})]})})},hu=()=>{const[e,t]=q.useState(""),s=async()=>{try{t("Testing login...");const a=await H.login({email:"nguyencxh2k4@gmail.com",password:"admin@123"});t(" Login successful: "+JSON.stringify(a))}catch(a){t(" Login failed: "+a.message)}},r=async()=>{try{t("Testing register...");const i=await(await fetch("http://localhost:8000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"test123",full_name:"Test User",phone:"1234567890"})})).json();t(" Register response: "+JSON.stringify(i))}catch(a){t(" Register failed: "+a.message)}};return n.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Auth API Test"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsx("button",{onClick:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Test Login API"}),n.jsx("button",{onClick:r,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 ml-4",children:"Test Register API"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Result:"}),n.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:e})]}),n.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Backend API:"})," http://localhost:8000"]}),n.jsx("p",{children:n.jsx("strong",{children:"Available endpoints:"})}),n.jsxs("ul",{className:"list-disc list-inside ml-4",children:[n.jsx("li",{children:"POST /auth/login"}),n.jsx("li",{children:"POST /auth/register"}),n.jsx("li",{children:"POST /auth/logout"}),n.jsx("li",{children:"GET /users/me"})]})]})]})})};var Nt=e=>e.type==="checkbox",Qe=e=>e instanceof Date,me=e=>e==null;const Yn=e=>typeof e=="object";var re=e=>!me(e)&&!Array.isArray(e)&&Yn(e)&&!Qe(e),fu=e=>re(e)&&e.target?Nt(e.target)?e.target.checked:e.target.value:e,mu=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pu=(e,t)=>e.has(mu(t)),xu=e=>{const t=e.constructor&&e.constructor.prototype;return re(t)&&t.hasOwnProperty("isPrototypeOf")},Hs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function oe(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Hs&&(e instanceof Blob||r))&&(s||re(e)))if(t=s?[]:Object.create(Object.getPrototypeOf(e)),!s&&!xu(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=oe(e[a]));else return e;return t}var ts=e=>/^\w*$/.test(e),te=e=>e===void 0,Qs=e=>Array.isArray(e)?e.filter(Boolean):[],Ws=e=>Qs(e.replace(/["|']|\]/g,"").split(/\.|\[/)),O=(e,t,s)=>{if(!t||!re(e))return s;const r=(ts(t)?[t]:Ws(t)).reduce((a,i)=>me(a)?a:a[i],e);return te(r)||r===e?te(e[t])?s:e[t]:r},Re=e=>typeof e=="boolean",J=(e,t,s)=>{let r=-1;const a=ts(t)?[t]:Ws(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let d=s;if(r!==o){const c=e[l];d=re(c)||Array.isArray(c)?c:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=d,e=e[l]}};const Dr={BLUR:"blur",FOCUS_OUT:"focusout"},je={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gu=q.createContext(null);gu.displayName="HookFormContext";var yu=(e,t,s,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==je.all&&(t._proxyFormState[o]=!r||je.all),e[o]}});return a};const vu=typeof window<"u"?q.useLayoutEffect:q.useEffect;var ge=e=>typeof e=="string",bu=(e,t,s,r,a)=>ge(e)?(r&&t.watch.add(e),O(s,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),O(s,i))):(r&&(t.watchAll=!0),s),_s=e=>me(e)||!Yn(e);function $e(e,t,s=new WeakSet){if(_s(e)||_s(t))return e===t;if(Qe(e)&&Qe(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of r){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Qe(o)&&Qe(l)||re(o)&&re(l)||Array.isArray(o)&&Array.isArray(l)?!$e(o,l,s):o!==l)return!1}}return!0}var ju=(e,t,s,r,a)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:a||!0}}:{},ht=e=>Array.isArray(e)?e:[e],Mr=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function Xn(e,t){const s={};for(const r in e)if(e.hasOwnProperty(r)){const a=e[r],i=t[r];if(a&&re(a)&&i){const o=Xn(a,i);re(o)&&(s[r]=o)}else e[r]&&(s[r]=i)}return s}var fe=e=>re(e)&&!Object.keys(e).length,Ks=e=>e.type==="file",we=e=>typeof e=="function",zt=e=>{if(!Hs)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ea=e=>e.type==="select-multiple",Zs=e=>e.type==="radio",wu=e=>Zs(e)||Nt(e),xs=e=>zt(e)&&e.isConnected;function Nu(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=te(e)?r++:e[t[r++]];return e}function Su(e){for(const t in e)if(e.hasOwnProperty(t)&&!te(e[t]))return!1;return!0}function se(e,t){const s=Array.isArray(t)?t:ts(t)?[t]:Ws(t),r=s.length===1?e:Nu(e,s),a=s.length-1,i=s[a];return r&&delete r[i],a!==0&&(re(r)&&fe(r)||Array.isArray(r)&&Su(r))&&se(e,s.slice(0,-1)),e}var Eu=e=>{for(const t in e)if(we(e[t]))return!0;return!1};function ta(e){return Array.isArray(e)||re(e)&&!Eu(e)}function Os(e,t={}){for(const s in e)ta(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Os(e[s],t[s])):te(e[s])||(t[s]=!0);return t}function Xe(e,t,s){s||(s=Os(t));for(const r in e)ta(e[r])?te(t)||_s(s[r])?s[r]=Os(e[r],Array.isArray(e[r])?[]:{}):Xe(e[r],me(t)?{}:t[r],s[r]):s[r]=!$e(e[r],t[r]);return s}const Ur={value:!1,isValid:!1},Ir={value:!0,isValid:!0};var sa=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!te(e[0].attributes.value)?te(e[0].value)||e[0].value===""?Ir:{value:e[0].value,isValid:!0}:Ir:Ur}return Ur},ra=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>te(e)?e:t?e===""?NaN:e&&+e:s&&ge(e)?new Date(e):r?r(e):e;const Br={isValid:!1,value:null};var na=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Br):Br;function $r(e){const t=e.ref;return Ks(t)?t.files:Zs(t)?na(e.refs).value:ea(t)?[...t.selectedOptions].map(({value:s})=>s):Nt(t)?sa(e.refs).value:ra(te(t.value)?e.ref.value:t.value,e)}var Cu=(e,t,s,r)=>{const a={};for(const i of e){const o=O(t,i);o&&J(a,i,o._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:r}},Vt=e=>e instanceof RegExp,ut=e=>te(e)?e:Vt(e)?e.source:re(e)?Vt(e.value)?e.value.source:e.value:e,qr=e=>({isOnSubmit:!e||e===je.onSubmit,isOnBlur:e===je.onBlur,isOnChange:e===je.onChange,isOnAll:e===je.all,isOnTouch:e===je.onTouched});const zr="AsyncFunction";var ku=e=>!!e&&!!e.validate&&!!(we(e.validate)&&e.validate.constructor.name===zr||re(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===zr)),Ru=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Vr=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ft=(e,t,s,r)=>{for(const a of s||Object.keys(e)){const i=O(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(ft(l,t))break}else if(re(l)&&ft(l,t))break}}};function Hr(e,t,s){const r=O(e,s);if(r||ts(s))return{error:r,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=O(t,i),l=O(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:s}}var _u=(e,t,s,r)=>{s(e);const{name:a,...i}=e;return fe(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||je.all))},Ou=(e,t,s)=>!e||!t||e===t||ht(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),Au=(e,t,s,r,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(t||e):(s?r.isOnBlur:a.isOnBlur)?!e:(s?r.isOnChange:a.isOnChange)?e:!0,Fu=(e,t)=>!Qs(O(e,t)).length&&se(e,t),Pu=(e,t,s)=>{const r=ht(O(e,s));return J(r,"root",t[s]),J(e,s,r),e};function Qr(e,t,s="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||Re(e)&&!e)return{type:s,message:ge(e)?e:"",ref:t}}var Ye=e=>re(e)&&!Vt(e)?e:{value:e,message:""},Wr=async(e,t,s,r,a,i)=>{const{ref:o,refs:l,required:d,maxLength:c,minLength:u,min:m,max:g,pattern:h,validate:x,name:y,valueAsNumber:N,mount:k}=e._f,w=O(s,y);if(!k||t.has(y))return{};const v=l?l[0]:o,A=T=>{a&&v.reportValidity&&(v.setCustomValidity(Re(T)?"":T||""),v.reportValidity())},L={},I=Zs(o),_=Nt(o),ae=I||_,X=(N||Ks(o))&&te(o.value)&&te(w)||zt(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,Z=ju.bind(null,y,r,L),ie=(T,D,B,K=Pe.maxLength,$=Pe.minLength)=>{const ne=T?D:B;L[y]={type:T?K:$,message:ne,ref:o,...Z(T?K:$,ne)}};if(i?!Array.isArray(w)||!w.length:d&&(!ae&&(X||me(w))||Re(w)&&!w||_&&!sa(l).isValid||I&&!na(l).isValid)){const{value:T,message:D}=ge(d)?{value:!!d,message:d}:Ye(d);if(T&&(L[y]={type:Pe.required,message:D,ref:v,...Z(Pe.required,D)},!r))return A(D),L}if(!X&&(!me(m)||!me(g))){let T,D;const B=Ye(g),K=Ye(m);if(!me(w)&&!isNaN(w)){const $=o.valueAsNumber||w&&+w;me(B.value)||(T=$>B.value),me(K.value)||(D=$<K.value)}else{const $=o.valueAsDate||new Date(w),ne=be=>new Date(new Date().toDateString()+" "+be),ee=o.type=="time",le=o.type=="week";ge(B.value)&&w&&(T=ee?ne(w)>ne(B.value):le?w>B.value:$>new Date(B.value)),ge(K.value)&&w&&(D=ee?ne(w)<ne(K.value):le?w<K.value:$<new Date(K.value))}if((T||D)&&(ie(!!T,B.message,K.message,Pe.max,Pe.min),!r))return A(L[y].message),L}if((c||u)&&!X&&(ge(w)||i&&Array.isArray(w))){const T=Ye(c),D=Ye(u),B=!me(T.value)&&w.length>+T.value,K=!me(D.value)&&w.length<+D.value;if((B||K)&&(ie(B,T.message,D.message),!r))return A(L[y].message),L}if(h&&!X&&ge(w)){const{value:T,message:D}=Ye(h);if(Vt(T)&&!w.match(T)&&(L[y]={type:Pe.pattern,message:D,ref:o,...Z(Pe.pattern,D)},!r))return A(D),L}if(x){if(we(x)){const T=await x(w,s),D=Qr(T,v);if(D&&(L[y]={...D,...Z(Pe.validate,D.message)},!r))return A(D.message),L}else if(re(x)){let T={};for(const D in x){if(!fe(T)&&!r)break;const B=Qr(await x[D](w,s),v,D);B&&(T={...B,...Z(D,B.message)},A(B.message),r&&(L[y]=T))}if(!fe(T)&&(L[y]={ref:v,...T},!r))return L}}return A(!0),L};const Lu={mode:je.onSubmit,reValidateMode:je.onChange,shouldFocusError:!0};function Tu(e={}){let t={...Lu,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:we(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=re(t.defaultValues)||re(t.values)?oe(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:oe(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const g={array:Mr(),state:Mr()},h=t.criteriaMode===je.all,x=f=>b=>{clearTimeout(c),c=setTimeout(f,b)},y=async f=>{if(!t.disabled&&(u.isValid||m.isValid||f)){const b=t.resolver?fe((await _()).errors):await X(r,!0);b!==s.isValid&&g.state.next({isValid:b})}},N=(f,b)=>{!t.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((f||Array.from(l.mount)).forEach(S=>{S&&(b?J(s.validatingFields,S,b):se(s.validatingFields,S))}),g.state.next({validatingFields:s.validatingFields,isValidating:!fe(s.validatingFields)}))},k=(f,b=[],S,R,C=!0,E=!0)=>{if(R&&S&&!t.disabled){if(o.action=!0,E&&Array.isArray(O(r,f))){const P=S(O(r,f),R.argA,R.argB);C&&J(r,f,P)}if(E&&Array.isArray(O(s.errors,f))){const P=S(O(s.errors,f),R.argA,R.argB);C&&J(s.errors,f,P),Fu(s.errors,f)}if((u.touchedFields||m.touchedFields)&&E&&Array.isArray(O(s.touchedFields,f))){const P=S(O(s.touchedFields,f),R.argA,R.argB);C&&J(s.touchedFields,f,P)}(u.dirtyFields||m.dirtyFields)&&(s.dirtyFields=Xe(a,i)),g.state.next({name:f,isDirty:ie(f,b),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else J(i,f,b)},w=(f,b)=>{J(s.errors,f,b),g.state.next({errors:s.errors})},v=f=>{s.errors=f,g.state.next({errors:s.errors,isValid:!1})},A=(f,b,S,R)=>{const C=O(r,f);if(C){const E=O(i,f,te(S)?O(a,f):S);te(E)||R&&R.defaultChecked||b?J(i,f,b?E:$r(C._f)):B(f,E),o.mount&&y()}},L=(f,b,S,R,C)=>{let E=!1,P=!1;const Q={name:f};if(!t.disabled){if(!S||R){(u.isDirty||m.isDirty)&&(P=s.isDirty,s.isDirty=Q.isDirty=ie(),E=P!==Q.isDirty);const W=$e(O(a,f),b);P=!!O(s.dirtyFields,f),W?se(s.dirtyFields,f):J(s.dirtyFields,f,!0),Q.dirtyFields=s.dirtyFields,E=E||(u.dirtyFields||m.dirtyFields)&&P!==!W}if(S){const W=O(s.touchedFields,f);W||(J(s.touchedFields,f,S),Q.touchedFields=s.touchedFields,E=E||(u.touchedFields||m.touchedFields)&&W!==S)}E&&C&&g.state.next(Q)}return E?Q:{}},I=(f,b,S,R)=>{const C=O(s.errors,f),E=(u.isValid||m.isValid)&&Re(b)&&s.isValid!==b;if(t.delayError&&S?(d=x(()=>w(f,S)),d(t.delayError)):(clearTimeout(c),d=null,S?J(s.errors,f,S):se(s.errors,f)),(S?!$e(C,S):C)||!fe(R)||E){const P={...R,...E&&Re(b)?{isValid:b}:{},errors:s.errors,name:f};s={...s,...P},g.state.next(P)}},_=async f=>{N(f,!0);const b=await t.resolver(i,t.context,Cu(f||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return N(f),b},ae=async f=>{const{errors:b}=await _(f);if(f)for(const S of f){const R=O(b,S);R?J(s.errors,S,R):se(s.errors,S)}else s.errors=b;return b},X=async(f,b,S={valid:!0})=>{for(const R in f){const C=f[R];if(C){const{_f:E,...P}=C;if(E){const Q=l.array.has(E.name),W=C._f&&ku(C._f);W&&u.validatingFields&&N([E.name],!0);const ve=await Wr(C,l.disabled,i,h,t.shouldUseNativeValidation&&!b,Q);if(W&&u.validatingFields&&N([E.name]),ve[E.name]&&(S.valid=!1,b))break;!b&&(O(ve,E.name)?Q?Pu(s.errors,ve,E.name):J(s.errors,E.name,ve[E.name]):se(s.errors,E.name))}!fe(P)&&await X(P,b,S)}}return S.valid},Z=()=>{for(const f of l.unMount){const b=O(r,f);b&&(b._f.refs?b._f.refs.every(S=>!xs(S)):!xs(b._f.ref))&&ss(f)}l.unMount=new Set},ie=(f,b)=>!t.disabled&&(f&&b&&J(i,f,b),!$e(be(),a)),T=(f,b,S)=>bu(f,l,{...o.mount?i:te(b)?a:ge(f)?{[f]:b}:b},S,b),D=f=>Qs(O(o.mount?i:a,f,t.shouldUnregister?O(a,f,[]):[])),B=(f,b,S={})=>{const R=O(r,f);let C=b;if(R){const E=R._f;E&&(!E.disabled&&J(i,f,ra(b,E)),C=zt(E.ref)&&me(b)?"":b,ea(E.ref)?[...E.ref.options].forEach(P=>P.selected=C.includes(P.value)):E.refs?Nt(E.ref)?E.refs.forEach(P=>{(!P.defaultChecked||!P.disabled)&&(Array.isArray(C)?P.checked=!!C.find(Q=>Q===P.value):P.checked=C===P.value||!!C)}):E.refs.forEach(P=>P.checked=P.value===C):Ks(E.ref)?E.ref.value="":(E.ref.value=C,E.ref.type||g.state.next({name:f,values:oe(i)})))}(S.shouldDirty||S.shouldTouch)&&L(f,C,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&le(f)},K=(f,b,S)=>{for(const R in b){if(!b.hasOwnProperty(R))return;const C=b[R],E=f+"."+R,P=O(r,E);(l.array.has(f)||re(C)||P&&!P._f)&&!Qe(C)?K(E,C,S):B(E,C,S)}},$=(f,b,S={})=>{const R=O(r,f),C=l.array.has(f),E=oe(b);J(i,f,E),C?(g.array.next({name:f,values:oe(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&S.shouldDirty&&g.state.next({name:f,dirtyFields:Xe(a,i),isDirty:ie(f,E)})):R&&!R._f&&!me(E)?K(f,E,S):B(f,E,S),Vr(f,l)&&g.state.next({...s,name:f}),g.state.next({name:o.mount?f:void 0,values:oe(i)})},ne=async f=>{o.mount=!0;const b=f.target;let S=b.name,R=!0;const C=O(r,S),E=W=>{R=Number.isNaN(W)||Qe(W)&&isNaN(W.getTime())||$e(W,O(i,S,W))},P=qr(t.mode),Q=qr(t.reValidateMode);if(C){let W,ve;const St=b.type?$r(C._f):fu(f),Me=f.type===Dr.BLUR||f.type===Dr.FOCUS_OUT,da=!Ru(C._f)&&!t.resolver&&!O(s.errors,S)&&!C._f.deps||Au(Me,O(s.touchedFields,S),s.isSubmitted,Q,P),as=Vr(S,l,Me);J(i,S,St),Me?(!b||!b.readOnly)&&(C._f.onBlur&&C._f.onBlur(f),d&&d(0)):C._f.onChange&&C._f.onChange(f);const is=L(S,St,Me),ha=!fe(is)||as;if(!Me&&g.state.next({name:S,type:f.type,values:oe(i)}),da)return(u.isValid||m.isValid)&&(t.mode==="onBlur"?Me&&y():Me||y()),ha&&g.state.next({name:S,...as?{}:is});if(!Me&&as&&g.state.next({...s}),t.resolver){const{errors:tr}=await _([S]);if(E(St),R){const fa=Hr(s.errors,r,S),sr=Hr(tr,r,fa.name||S);W=sr.error,S=sr.name,ve=fe(tr)}}else N([S],!0),W=(await Wr(C,l.disabled,i,h,t.shouldUseNativeValidation))[S],N([S]),E(St),R&&(W?ve=!1:(u.isValid||m.isValid)&&(ve=await X(r,!0)));R&&(C._f.deps&&(!Array.isArray(C._f.deps)||C._f.deps.length>0)&&le(C._f.deps),I(S,ve,W,is))}},ee=(f,b)=>{if(O(s.errors,b)&&f.focus)return f.focus(),1},le=async(f,b={})=>{let S,R;const C=ht(f);if(t.resolver){const E=await ae(te(f)?f:C);S=fe(E),R=f?!C.some(P=>O(E,P)):S}else f?(R=(await Promise.all(C.map(async E=>{const P=O(r,E);return await X(P&&P._f?{[E]:P}:P)}))).every(Boolean),!(!R&&!s.isValid)&&y()):R=S=await X(r);return g.state.next({...!ge(f)||(u.isValid||m.isValid)&&S!==s.isValid?{}:{name:f},...t.resolver||!f?{isValid:S}:{},errors:s.errors}),b.shouldFocus&&!R&&ft(r,ee,f?C:l.mount),R},be=(f,b)=>{let S={...o.mount?i:a};return b&&(S=Xn(b.dirtyFields?s.dirtyFields:s.touchedFields,S)),te(f)?S:ge(f)?O(S,f):f.map(R=>O(S,R))},he=(f,b)=>({invalid:!!O((b||s).errors,f),isDirty:!!O((b||s).dirtyFields,f),error:O((b||s).errors,f),isValidating:!!O(s.validatingFields,f),isTouched:!!O((b||s).touchedFields,f)}),Ce=f=>{f&&ht(f).forEach(b=>se(s.errors,b)),g.state.next({errors:f?s.errors:{}})},Je=(f,b,S)=>{const R=(O(r,f,{_f:{}})._f||{}).ref,C=O(s.errors,f)||{},{ref:E,message:P,type:Q,...W}=C;J(s.errors,f,{...W,...b,ref:R}),g.state.next({name:f,errors:s.errors,isValid:!1}),S&&S.shouldFocus&&R&&R.focus&&R.focus()},Ge=(f,b)=>we(f)?g.state.subscribe({next:S=>"values"in S&&f(T(void 0,b),S)}):T(f,b,!0),ot=f=>g.state.subscribe({next:b=>{Ou(f.name,b.name,f.exact)&&_u(b,f.formState||u,ua,f.reRenderRoot)&&f.callback({values:{...i},...s,...b,defaultValues:a})}}).unsubscribe,ia=f=>(o.mount=!0,m={...m,...f.formState},ot({...f,formState:m})),ss=(f,b={})=>{for(const S of f?ht(f):l.mount)l.mount.delete(S),l.array.delete(S),b.keepValue||(se(r,S),se(i,S)),!b.keepError&&se(s.errors,S),!b.keepDirty&&se(s.dirtyFields,S),!b.keepTouched&&se(s.touchedFields,S),!b.keepIsValidating&&se(s.validatingFields,S),!t.shouldUnregister&&!b.keepDefaultValue&&se(a,S);g.state.next({values:oe(i)}),g.state.next({...s,...b.keepDirty?{isDirty:ie()}:{}}),!b.keepIsValid&&y()},Js=({disabled:f,name:b})=>{(Re(f)&&o.mount||f||l.disabled.has(b))&&(f?l.disabled.add(b):l.disabled.delete(b))},rs=(f,b={})=>{let S=O(r,f);const R=Re(b.disabled)||Re(t.disabled);return J(r,f,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:f}},name:f,mount:!0,...b}}),l.mount.add(f),S?Js({disabled:Re(b.disabled)?b.disabled:t.disabled,name:f}):A(f,!0,b.value),{...R?{disabled:b.disabled||t.disabled}:{},...t.progressive?{required:!!b.required,min:ut(b.min),max:ut(b.max),minLength:ut(b.minLength),maxLength:ut(b.maxLength),pattern:ut(b.pattern)}:{},name:f,onChange:ne,onBlur:ne,ref:C=>{if(C){rs(f,b),S=O(r,f);const E=te(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,P=wu(E),Q=S._f.refs||[];if(P?Q.find(W=>W===E):E===S._f.ref)return;J(r,f,{_f:{...S._f,...P?{refs:[...Q.filter(xs),E,...Array.isArray(O(a,f))?[{}]:[]],ref:{type:E.type,name:f}}:{ref:E}}}),A(f,!1,void 0,E)}else S=O(r,f,{}),S._f&&(S._f.mount=!1),(t.shouldUnregister||b.shouldUnregister)&&!(pu(l.array,f)&&o.action)&&l.unMount.add(f)}}},ns=()=>t.shouldFocusError&&ft(r,ee,l.mount),oa=f=>{Re(f)&&(g.state.next({disabled:f}),ft(r,(b,S)=>{const R=O(r,S);R&&(b.disabled=R._f.disabled||f,Array.isArray(R._f.refs)&&R._f.refs.forEach(C=>{C.disabled=R._f.disabled||f}))},0,!1))},Gs=(f,b)=>async S=>{let R;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let C=oe(i);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:E,values:P}=await _();s.errors=E,C=oe(P)}else await X(r);if(l.disabled.size)for(const E of l.disabled)se(C,E);if(se(s.errors,"root"),fe(s.errors)){g.state.next({errors:{}});try{await f(C,S)}catch(E){R=E}}else b&&await b({...s.errors},S),ns(),setTimeout(ns);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fe(s.errors)&&!R,submitCount:s.submitCount+1,errors:s.errors}),R)throw R},la=(f,b={})=>{O(r,f)&&(te(b.defaultValue)?$(f,oe(O(a,f))):($(f,b.defaultValue),J(a,f,oe(b.defaultValue))),b.keepTouched||se(s.touchedFields,f),b.keepDirty||(se(s.dirtyFields,f),s.isDirty=b.defaultValue?ie(f,oe(O(a,f))):ie()),b.keepError||(se(s.errors,f),u.isValid&&y()),g.state.next({...s}))},Ys=(f,b={})=>{const S=f?oe(f):a,R=oe(S),C=fe(f),E=C?a:R;if(b.keepDefaultValues||(a=S),!b.keepValues){if(b.keepDirtyValues){const P=new Set([...l.mount,...Object.keys(Xe(a,i))]);for(const Q of Array.from(P))O(s.dirtyFields,Q)?J(E,Q,O(i,Q)):$(Q,O(E,Q))}else{if(Hs&&te(f))for(const P of l.mount){const Q=O(r,P);if(Q&&Q._f){const W=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(zt(W)){const ve=W.closest("form");if(ve){ve.reset();break}}}}if(b.keepFieldsRef)for(const P of l.mount)$(P,O(E,P));else r={}}i=t.shouldUnregister?b.keepDefaultValues?oe(a):{}:oe(E),g.array.next({values:{...E}}),g.state.next({values:{...E}})}l={mount:b.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!b.keepIsValid||!!b.keepDirtyValues||!t.shouldUnregister&&!fe(E),o.watch=!!t.shouldUnregister,g.state.next({submitCount:b.keepSubmitCount?s.submitCount:0,isDirty:C?!1:b.keepDirty?s.isDirty:!!(b.keepDefaultValues&&!$e(f,a)),isSubmitted:b.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:C?{}:b.keepDirtyValues?b.keepDefaultValues&&i?Xe(a,i):s.dirtyFields:b.keepDefaultValues&&f?Xe(a,f):b.keepDirty?s.dirtyFields:{},touchedFields:b.keepTouched?s.touchedFields:{},errors:b.keepErrors?s.errors:{},isSubmitSuccessful:b.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Xs=(f,b)=>Ys(we(f)?f(i):f,b),ca=(f,b={})=>{const S=O(r,f),R=S&&S._f;if(R){const C=R.refs?R.refs[0]:R.ref;C.focus&&(C.focus(),b.shouldSelect&&we(C.select)&&C.select())}},ua=f=>{s={...s,...f}},er={control:{register:rs,unregister:ss,getFieldState:he,handleSubmit:Gs,setError:Je,_subscribe:ot,_runSchema:_,_focusError:ns,_getWatch:T,_getDirty:ie,_setValid:y,_setFieldArray:k,_setDisabledField:Js,_setErrors:v,_getFieldArray:D,_reset:Ys,_resetDefaultValues:()=>we(t.defaultValues)&&t.defaultValues().then(f=>{Xs(f,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:oa,_subjects:g,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(f){o=f},get _defaultValues(){return a},get _names(){return l},set _names(f){l=f},get _formState(){return s},get _options(){return t},set _options(f){t={...t,...f}}},subscribe:ia,trigger:le,register:rs,handleSubmit:Gs,watch:Ge,setValue:$,getValues:be,reset:Xs,resetField:la,clearErrors:Ce,unregister:ss,setError:Je,setFocus:ca,getFieldState:he};return{...er,formControl:er}}function aa(e={}){const t=q.useRef(void 0),s=q.useRef(void 0),[r,a]=q.useState({isDirty:!1,isValidating:!1,isLoading:we(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:we(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!we(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Tu(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,vu(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),q.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),q.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),q.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),q.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),q.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),q.useEffect(()=>{e.values&&!$e(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=yu(r,i),t.current}const We=({children:e,variant:t="primary",size:s="md",loading:r=!1,leftIcon:a,rightIcon:i,fullWidth:o=!1,className:l,disabled:d,...c})=>{const u="btn",m={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-danger",success:"btn-success",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500"},g={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};return n.jsxs("button",{className:ye(u,m[t],g[s],o&&"w-full",(r||d)&&"opacity-50 cursor-not-allowed",l),disabled:r||d,...c,children:[r&&n.jsx(Oe,{size:"sm",color:"white",className:"mr-2"}),!r&&a&&n.jsx("span",{className:"mr-2",children:a}),e,!r&&i&&n.jsx("span",{className:"ml-2",children:i})]})},Du=()=>{var m,g;const[e,t]=p.useState(!1),{login:s,isLoading:r,isAuthenticated:a,otpRequired:i}=Se(),o=As(),{register:l,handleSubmit:d,formState:{errors:c}}=aa();if(i)return n.jsx(ue,{to:"/auth/otp",replace:!0});if(a){const h=((g=(m=o.state)==null?void 0:m.from)==null?void 0:g.pathname)||"/dashboard";return n.jsx(ue,{to:h,replace:!0})}const u=async h=>{try{await s(h)}catch{}};return n.jsxs("div",{className:"w-full max-w-md mx-auto",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sign in to your account"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your credentials to access the admin dashboard"})]}),n.jsxs("form",{onSubmit:d(u),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),n.jsx("input",{id:"email",type:"email",autoComplete:"email",className:"form-input",placeholder:"Enter your email",...l("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),c.email&&n.jsx("p",{className:"form-error",children:c.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:e?"text":"password",autoComplete:"current-password",className:"form-input pr-10",placeholder:"Enter your password",...l("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?n.jsx(ks,{className:"h-5 w-5 text-gray-400"}):n.jsx(Rs,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&n.jsx("p",{className:"form-error",children:c.password.message})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),n.jsx("div",{className:"text-sm",children:n.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),n.jsx(We,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:r,children:"Sign in"})]}),n.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Demo Credentials:"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Admin:"})," nguyencxh2k4@gmail.com / admin@123"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Staff:"})," staff@example.com / staff123"]})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx(en,{to:"/auth/register",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Sign up here"})]})})]})},Mu=()=>{const[e,t]=p.useState(!1),[s,r]=p.useState(!1),[a,i]=p.useState(!1),{isAuthenticated:o}=Se(),{register:l,handleSubmit:d,watch:c,formState:{errors:u}}=aa();if(o)return n.jsx(ue,{to:"/dashboard",replace:!0});const m=c("password"),g=async h=>{var x,y;if(h.password!==h.confirmPassword){U.error("Passwords do not match");return}try{i(!0),await H.request({method:"POST",url:"/auth/register",data:{email:h.email,password:h.password,full_name:h.full_name,phone:h.phone}}),U.success("Registration successful! Please login with your credentials."),window.location.href="/auth/login"}catch(N){const k=((y=(x=N.response)==null?void 0:x.data)==null?void 0:y.detail)||"Registration failed";U.error(k)}finally{i(!1)}};return n.jsxs("div",{className:"w-full max-w-md mx-auto",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create your account"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join us to manage your hotel booking system"})]}),n.jsxs("form",{onSubmit:d(g),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"full_name",className:"form-label",children:"Full Name"}),n.jsx("input",{id:"full_name",type:"text",autoComplete:"name",className:"form-input",placeholder:"Enter your full name",...l("full_name",{required:"Full name is required",minLength:{value:2,message:"Full name must be at least 2 characters"}})}),u.full_name&&n.jsx("p",{className:"form-error",children:u.full_name.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),n.jsx("input",{id:"email",type:"email",autoComplete:"email",className:"form-input",placeholder:"Enter your email",...l("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),u.email&&n.jsx("p",{className:"form-error",children:u.email.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),n.jsx("input",{id:"phone",type:"tel",autoComplete:"tel",className:"form-input",placeholder:"Enter your phone number",...l("phone",{required:"Phone number is required",pattern:{value:/^[+]?[\d\s\-\(\)]+$/,message:"Invalid phone number format"}})}),u.phone&&n.jsx("p",{className:"form-error",children:u.phone.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:e?"text":"password",autoComplete:"new-password",className:"form-input pr-10",placeholder:"Enter your password",...l("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain uppercase, lowercase, and number"}})}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?n.jsx(ks,{className:"h-5 w-5 text-gray-400"}):n.jsx(Rs,{className:"h-5 w-5 text-gray-400"})})]}),u.password&&n.jsx("p",{className:"form-error",children:u.password.message})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",className:"form-input pr-10",placeholder:"Confirm your password",...l("confirmPassword",{required:"Please confirm your password",validate:h=>h===m||"Passwords do not match"})}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!s),children:s?n.jsx(ks,{className:"h-5 w-5 text-gray-400"}):n.jsx(Rs,{className:"h-5 w-5 text-gray-400"})})]}),u.confirmPassword&&n.jsx("p",{className:"form-error",children:u.confirmPassword.message})]}),n.jsx(We,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:a,children:"Create Account"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",n.jsx(en,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Sign in here"})]})})]})},Uu=()=>{const[e,t]=p.useState(["","","","","",""]),s=p.useRef([]),{confirmOtp:r,isLoading:a,isAuthenticated:i,otpRequired:o,otpEmail:l}=Se();if(!o)return n.jsx(ue,{to:"/auth/login",replace:!0});if(i)return n.jsx(ue,{to:"/dashboard",replace:!0});p.useEffect(()=>{s.current[0]&&s.current[0].focus()},[]);const d=(h,x)=>{var N;if(x.length>1)return;const y=[...e];y[h]=x,t(y),x&&h<5&&((N=s.current[h+1])==null||N.focus())},c=(h,x)=>{var y;x.key==="Backspace"&&!e[h]&&h>0&&((y=s.current[h-1])==null||y.focus())},u=h=>{var w;h.preventDefault();const x=h.clipboardData.getData("text").slice(0,6),y=[...e];for(let v=0;v<x.length&&v<6;v++)/^\d$/.test(x[v])&&(y[v]=x[v]);t(y);const N=y.findIndex(v=>!v),k=N===-1?5:N;(w=s.current[k])==null||w.focus()},m=async h=>{var y;h.preventDefault();const x=e.join("");if(x.length===6)try{await r(x)}catch{t(["","","","","",""]),(y=s.current[0])==null||y.focus()}},g=e.every(h=>h!=="");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Enter verification code"}),n.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a 6-digit code to ",n.jsx("strong",{children:l})]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"form-label text-center block",children:"Verification Code"}),n.jsx("div",{className:"flex justify-center space-x-3 mt-2",children:e.map((h,x)=>n.jsx("input",{ref:y=>s.current[x]=y,type:"text",inputMode:"numeric",pattern:"[0-9]",maxLength:1,value:h,onChange:y=>d(x,y.target.value),onKeyDown:y=>c(x,y),onPaste:u,className:"w-12 h-12 text-center text-lg font-semibold border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-primary-500"},x))})]}),n.jsx(We,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:a,disabled:!g,children:"Verify Code"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Didn't receive the code?"," ",n.jsx("button",{type:"button",className:"font-medium text-primary-600 hover:text-primary-500",onClick:()=>{console.log("Resend OTP")},children:"Resend code"})]})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",className:"text-sm text-gray-500 hover:text-gray-700",onClick:()=>{Se.getState().clearAuth()},children:" Back to login"})})]})},F=({children:e,className:t,padding:s="md",shadow:r="md"})=>{const a={none:"",sm:"p-4",md:"p-6",lg:"p-8"},i={none:"",sm:"shadow-sm",md:"shadow-soft",lg:"shadow-medium"};return n.jsx("div",{className:ye("card",a[s],i[r],t),children:e})},Iu=({children:e,className:t})=>n.jsx("div",{className:ye("card-header",t),children:e}),Bu=({children:e,className:t})=>n.jsx("div",{className:ye("card-body",t),children:e}),$u=({children:e,className:t})=>n.jsx("div",{className:ye("card-footer",t),children:e});F.Header=Iu;F.Body=Bu;F.Footer=$u;const Kr=()=>{const{data:e,isLoading:t}=Te("admin-analytics",()=>H.getAdminAnalytics(),{refetchInterval:3e4}),{data:s}=Te("admin-users",()=>H.getUsers()),{data:r}=Te("admin-organizations",()=>H.getOrganizations()),{data:a}=Te("admin-properties",()=>H.getProperties()),{data:i}=Te("admin-bookings",()=>H.getBookings());if(t)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Oe,{size:"lg"})});const o=[{name:"Jan",revenue:12e3,bookings:45},{name:"Feb",revenue:15e3,bookings:52},{name:"Mar",revenue:18e3,bookings:61},{name:"Apr",revenue:22e3,bookings:73},{name:"May",revenue:25e3,bookings:84},{name:"Jun",revenue:28e3,bookings:92}],l=[{name:"Free",value:45,color:"#94a3b8"},{name:"Basic",value:30,color:"#3b82f6"},{name:"Professional",value:20,color:"#10b981"},{name:"Enterprise",value:5,color:"#f59e0b"}],d=[{name:"Total Users",value:(s==null?void 0:s.length)||0,change:"+12%",changeType:"increase",icon:Vs,color:"blue"},{name:"Organizations",value:(r==null?void 0:r.length)||0,change:"+8%",changeType:"increase",icon:qe,color:"green"},{name:"Total Bookings",value:(i==null?void 0:i.length)||0,change:"+23%",changeType:"increase",icon:Ne,color:"purple"},{name:"Revenue",value:"$"+((e==null?void 0:e.total_revenue_today)||0).toLocaleString(),change:"-2%",changeType:"decrease",icon:$s,color:"yellow"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Overview of your hotel booking platform"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(c=>{const u=c.icon;return n.jsxs(F,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:`p-3 rounded-lg bg-${c.color}-100`,children:n.jsx(u,{className:`h-6 w-6 text-${c.color}-600`})})}),n.jsxs("div",{className:"ml-4 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:c.name}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:c.value})]})]}),n.jsxs("div",{className:"mt-4 flex items-center",children:[c.changeType==="increase"?n.jsx(bc,{className:"h-4 w-4 text-green-500"}):n.jsx(gc,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{className:`ml-1 text-sm font-medium ${c.changeType==="increase"?"text-green-600":"text-red-600"}`,children:c.change}),n.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"from last month"})]})]},c.name)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(F,{children:[n.jsxs(F.Header,{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue Trend"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Monthly revenue and bookings"})]}),n.jsx(F.Body,{children:n.jsx("div",{className:"h-80",children:n.jsx(rr,{width:"100%",height:"100%",children:n.jsxs(Na,{data:o,children:[n.jsx(Sa,{strokeDasharray:"3 3"}),n.jsx(Ea,{dataKey:"name"}),n.jsx(Ca,{}),n.jsx(nr,{}),n.jsx(ka,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})})]}),n.jsxs(F,{children:[n.jsxs(F.Header,{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Subscription Plans"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Organization distribution by plan"})]}),n.jsx(F.Body,{children:n.jsx("div",{className:"h-80",children:n.jsx(rr,{width:"100%",height:"100%",children:n.jsxs(Ra,{children:[n.jsx(_a,{data:l,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,children:l.map((c,u)=>n.jsx(Oa,{fill:c.color},`cell-${u}`))}),n.jsx(nr,{})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(F,{children:[n.jsxs(F.Header,{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Organizations"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Newly registered organizations"})]}),n.jsx(F.Body,{children:n.jsx("div",{className:"space-y-4",children:r==null?void 0:r.slice(0,5).map(c=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(qe,{className:"h-5 w-5 text-primary-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.name}),n.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[c.subscription_plan.toLowerCase()," plan"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("p",{className:"text-xs text-gray-500",children:new Date(c.created_at).toLocaleDateString()})})]},c.id))})})]}),n.jsxs(F,{children:[n.jsxs(F.Header,{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Bookings"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Latest booking activity"})]}),n.jsx(F.Body,{children:n.jsx("div",{className:"space-y-4",children:i==null?void 0:i.slice(0,5).map(c=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Ne,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Booking #",c.id.slice(0,8)]}),n.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:["Status: ",c.status.toLowerCase()]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",c.total_amount]}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(c.created_at).toLocaleDateString()})]})]},c.id))})})]})]})]})};var Ue=(e=>(e.CUSTOMER="CUSTOMER",e.ADMIN="ADMIN",e.STAFF="STAFF",e))(Ue||{}),Le=(e=>(e.FREE="FREE",e.BASIC="BASIC",e.PROFESSIONAL="PROFESSIONAL",e.ENTERPRISE="ENTERPRISE",e))(Le||{});const mt=({children:e,variant:t="gray",size:s="md",className:r})=>{const a="badge",i={success:"badge-success",warning:"badge-warning",danger:"badge-danger",info:"badge-info",gray:"badge-gray"},o={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"};return n.jsx("span",{className:ye(a,i[t],o[s],r),children:e})},qu=()=>{const[e,t]=p.useState(""),[s,r]=p.useState("all"),[a,i]=p.useState("all"),o=Ts(),{data:l,isLoading:d}=Te("admin-users",()=>H.getUsers()),c=di(h=>H.deleteUser(h),{onSuccess:()=>{o.invalidateQueries("admin-users"),U.success("User deleted successfully")},onError:()=>{U.error("Failed to delete user")}}),u=(l==null?void 0:l.filter(h=>{const x=h.full_name.toLowerCase().includes(e.toLowerCase())||h.email.toLowerCase().includes(e.toLowerCase()),y=s==="all"||h.role===s,N=a==="all"||a==="active"&&h.is_active||a==="inactive"&&!h.is_active;return x&&y&&N}))||[],m=async(h,x)=>{window.confirm(`Are you sure you want to delete user "${x}"?`)&&c.mutate(h)},g=h=>{switch(h){case Ue.ADMIN:return"danger";case Ue.STAFF:return"warning";case Ue.CUSTOMER:return"info";default:return"gray"}};return d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Oe,{size:"lg"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all users in the system"})]}),n.jsx(We,{variant:"primary",leftIcon:n.jsx(Zc,{className:"h-4 w-4"}),onClick:()=>{console.log("Create user feature coming soon")},children:"Add User"})]}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"form-input pl-10",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("select",{className:"form-input",value:s,onChange:h=>r(h.target.value),children:[n.jsx("option",{value:"all",children:"All Roles"}),n.jsx("option",{value:Ue.ADMIN,children:"Admin"}),n.jsx("option",{value:Ue.STAFF,children:"Staff"}),n.jsx("option",{value:Ue.CUSTOMER,children:"Customer"})]}),n.jsxs("select",{className:"form-input",value:a,onChange:h=>i(h.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]}),n.jsx(We,{variant:"secondary",leftIcon:n.jsx($c,{className:"h-4 w-4"}),onClick:()=>{t(""),r("all"),i("all")},children:"Clear Filters"})]})})}),n.jsx(F,{children:n.jsxs(F.Body,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{className:"table-header",children:n.jsxs("tr",{children:[n.jsx("th",{children:"User"}),n.jsx("th",{children:"Role"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Email Verified"}),n.jsx("th",{children:"Created"}),n.jsx("th",{children:"Last Login"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{className:"table-body",children:u.map(h=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-primary-600 font-medium text-sm",children:h.full_name.charAt(0)})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.full_name}),n.jsx("div",{className:"text-sm text-gray-500",children:h.email})]})]})}),n.jsx("td",{children:n.jsx(mt,{variant:g(h.role),children:h.role})}),n.jsx("td",{children:n.jsx(mt,{variant:h.is_active?"success":"danger",children:h.is_active?"Active":"Inactive"})}),n.jsx("td",{children:n.jsx(mt,{variant:h.email_verified?"success":"warning",children:h.email_verified?"Verified":"Unverified"})}),n.jsx("td",{className:"text-sm text-gray-900",children:new Date(h.created_at).toLocaleDateString()}),n.jsx("td",{className:"text-sm text-gray-900",children:h.last_login_at?new Date(h.last_login_at).toLocaleDateString():"Never"}),n.jsx("td",{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(We,{variant:"secondary",size:"sm",leftIcon:n.jsx(Qc,{className:"h-3 w-3"}),onClick:()=>{console.log("Edit user feature coming soon")},children:"Edit"}),n.jsx(We,{variant:"danger",size:"sm",leftIcon:n.jsx(eu,{className:"h-3 w-3"}),onClick:()=>m(h.id,h.full_name),loading:c.isLoading,children:"Delete"})]})})]},h.id))})]})}),u.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx(Vs,{className:"mx-auto h-12 w-12 mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"No users found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(F,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(l==null?void 0:l.length)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"})]})}),n.jsx(F,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:(l==null?void 0:l.filter(h=>h.is_active).length)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]})}),n.jsx(F,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(l==null?void 0:l.filter(h=>h.email_verified).length)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Verified Users"})]})}),n.jsx(F,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(l==null?void 0:l.filter(h=>h.role===Ue.ADMIN).length)||0}),n.jsx("div",{className:"text-sm text-gray-600",children:"Admin Users"})]})})]})]})},zu=()=>{const[e,t]=p.useState(""),[s,r]=p.useState("all"),{data:a,isLoading:i}=Te("admin-organizations",()=>H.getOrganizations()),o=(a==null?void 0:a.filter(d=>{const c=d.name.toLowerCase().includes(e.toLowerCase()),u=s==="all"||d.subscription_plan===s;return c&&u}))||[],l=d=>{switch(d){case Le.FREE:return"gray";case Le.BASIC:return"info";case Le.PROFESSIONAL:return"success";case Le.ENTERPRISE:return"warning";default:return"gray"}};return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Oe,{size:"lg"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organizations"}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all organizations in the platform"})]}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search organizations...",className:"form-input pl-10",value:e,onChange:d=>t(d.target.value)})]}),n.jsxs("select",{className:"form-input",value:s,onChange:d=>r(d.target.value),children:[n.jsx("option",{value:"all",children:"All Plans"}),n.jsx("option",{value:Le.FREE,children:"Free"}),n.jsx("option",{value:Le.BASIC,children:"Basic"}),n.jsx("option",{value:Le.PROFESSIONAL,children:"Professional"}),n.jsx("option",{value:Le.ENTERPRISE,children:"Enterprise"})]})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(d=>n.jsx(F,{children:n.jsxs(F.Body,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(qe,{className:"h-6 w-6 text-primary-600"})}),n.jsx(mt,{variant:l(d.subscription_plan),children:d.subscription_plan})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:d.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.description||"No description"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Properties:"}),n.jsx("span",{className:"font-medium",children:d.max_properties})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Users:"}),n.jsx("span",{className:"font-medium",children:d.max_users})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Status:"}),n.jsx(mt,{variant:d.is_active?"success":"danger",children:d.is_active?"Active":"Inactive"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Created:"}),n.jsx("span",{className:"font-medium",children:new Date(d.created_at).toLocaleDateString()})]})]})]})},d.id))}),o.length===0&&n.jsx(F,{children:n.jsx(F.Body,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(qe,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No organizations found"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search criteria"})]})})})]})},Vu=()=>{const{data:e,isLoading:t}=Te("admin-properties",()=>H.getProperties());return t?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Oe,{size:"lg"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Properties Management"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsxs("p",{children:["Properties management interface - ",(e==null?void 0:e.length)||0," properties found"]})})})]})},Hu=()=>{const{data:e,isLoading:t}=Te("admin-bookings",()=>H.getBookings());return t?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Oe,{size:"lg"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings Management"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsxs("p",{children:["Bookings management interface - ",(e==null?void 0:e.length)||0," bookings found"]})})})]})},Qu=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Reports"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Advanced analytics and reporting interface"})})})]}),Zr=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Dashboard"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Staff dashboard for customer service operations"})})})]}),Wu=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Staff booking management interface"})})})]}),Ku=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Support"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Customer support and service interface"})})})]}),Jr=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Dashboard"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Organization dashboard for hotel management"})})})]}),Zu=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Properties"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Organization properties management"})})})]}),Ju=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Bookings"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Organization bookings management"})})})]}),Gu=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Members"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Organization team management"})})})]}),Yu=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Settings"}),n.jsx(F,{children:n.jsx(F.Body,{children:n.jsx("p",{children:"Organization settings and configuration"})})})]}),Xu=()=>{const[e,t]=p.useState(null),[s,r]=p.useState([]),[a,i]=p.useState(null),[o,l]=p.useState([]),[d,c]=p.useState(!0),[u,m]=p.useState(!1),[g,h]=p.useState(""),[x,y]=p.useState(!1),[N,k]=p.useState(!1);p.useEffect(()=>{w()},[]);const w=async()=>{c(!0);try{const[_,ae,X,Z]=await Promise.all([H.getSubscriptionPlans(),H.getCurrentSubscription(),H.getUsageStatistics(),H.getInvoices({limit:10})]);r(_.plans||[]),t(ae.subscription||null),i(X),l(Z.invoices||[])}catch(_){console.error("Failed to load subscription data:",_),U.error("Failed to load subscription data")}finally{c(!1)}},v=async()=>{if(g){m(!0);try{await H.upgradeSubscription({new_plan_name:g,billing_cycle:"MONTHLY"}),U.success("Subscription upgraded successfully!"),y(!1),w()}catch(_){console.error("Upgrade failed:",_),U.error("Failed to upgrade subscription")}finally{m(!1)}}},A=async()=>{try{await H.cancelSubscription({cancel_at_period_end:!0,reason:"User requested cancellation"}),U.success("Subscription will be cancelled at the end of the current period"),k(!1),w()}catch(_){console.error("Cancellation failed:",_),U.error("Failed to cancel subscription")}},L=_=>{switch(_.toLowerCase()){case"active":return"text-green-600 bg-green-100";case"trial":return"text-blue-600 bg-blue-100";case"past_due":return"text-red-600 bg-red-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},I=_=>_>=90?"bg-red-500":_>=75?"bg-yellow-500":"bg-green-500";return d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Oe,{})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Subscription & Billing"}),n.jsx("p",{className:"text-gray-600",children:"Manage your subscription plan and billing information"})]})}),e&&n.jsx(F,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Current Plan"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-2xl font-bold text-primary-600",children:e.plan_name}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(e.status)}`,children:e.status})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",e.base_price]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["per ",e.billing_cycle.toLowerCase()]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Billing Period"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Ne,{className:"w-4 h-4 mr-2"}),new Date(e.current_period_start).toLocaleDateString()," -",new Date(e.current_period_end).toLocaleDateString()]}),e.status==="TRIAL"&&e.trial_end&&n.jsxs("div",{className:"flex items-center text-blue-600",children:[n.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Trial ends: ",new Date(e.trial_end).toLocaleDateString()]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Plan Limits"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(qe,{className:"w-4 h-4 mr-2"}),e.limits.properties," Properties"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(wt,{className:"w-4 h-4 mr-2"}),e.limits.users," Users"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ac,{className:"w-4 h-4 mr-2"}),e.limits.bookings||"Unlimited"," Bookings"]})]})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Upgrade Plan"}),!e.cancel_at_period_end&&n.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel Subscription"})]}),e.cancel_at_period_end&&n.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center text-yellow-800",children:[n.jsx(Tr,{className:"w-5 h-5 mr-2"}),n.jsxs("span",{className:"font-medium",children:["Subscription will be cancelled on ",new Date(e.current_period_end).toLocaleDateString()]})]})})]})}),a&&n.jsx(F,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Usage Statistics"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Properties"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[a.properties.used," / ",a.properties.limit]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${I(a.properties.percentage)}`,style:{width:`${Math.min(a.properties.percentage,100)}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[a.properties.available," remaining"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Users"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[a.users.used," / ",a.users.limit]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${I(a.users.percentage)}`,style:{width:`${Math.min(a.users.percentage,100)}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[a.users.available," remaining"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bookings (This Period)"}),n.jsxs("span",{className:"text-sm text-gray-600",children:[a.bookings.used," / ",a.bookings.limit||""]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${I(a.bookings.percentage)}`,style:{width:`${Math.min(a.bookings.percentage,100)}%`}})}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a.bookings.available!==null?`${a.bookings.available} remaining`:"Unlimited"})]})]})]})}),o.length>0&&n.jsx(F,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Invoices"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(_=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.invoice_number}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(_.period_start).toLocaleDateString()," - ",new Date(_.period_end).toLocaleDateString()]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",_.total_amount.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(_.status)}`,children:_.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(_.due_date).toLocaleDateString()})]},_.id))})]})})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Choose Your Plan"}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:s.map(_=>n.jsxs("div",{onClick:()=>h(_.name),className:`border-2 rounded-lg p-6 cursor-pointer transition-colors ${g===_.name?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"} ${_.popular?"ring-2 ring-primary-500":""}`,children:[_.popular&&n.jsx("div",{className:"text-xs font-semibold text-primary-600 mb-2",children:"MOST POPULAR"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.display_name}),n.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",_.price]}),n.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"per month"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:_.description}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:_.features.properties_limit})," Properties"]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:_.features.users_limit})," Users"]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("strong",{children:_.features.bookings_limit})," Bookings"]})]})]},_.name))}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:v,disabled:!g||u,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Upgrading...":"Upgrade Plan"})]})]})})}),N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancel Subscription"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel your subscription? You'll continue to have access until the end of your current billing period."}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Keep Subscription"}),n.jsx("button",{onClick:A,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Cancel Subscription"})]})]})})]})},kt=({children:e})=>{const{isAuthenticated:t,user:s,isLoading:r,otpRequired:a}=Se(),i=As();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(Oe,{size:"lg"})}):a?n.jsx(ue,{to:"/auth/otp",state:{from:i},replace:!0}):!t||!s?n.jsx(ue,{to:"/auth/login",state:{from:i},replace:!0}):n.jsx(n.Fragment,{children:e})},Gr=({children:e,allowedRoles:t,fallbackPath:s="/dashboard"})=>{const{user:r}=Se();return!r||!t.includes(r.role)?n.jsx(ue,{to:s,replace:!0}):n.jsx(n.Fragment,{children:e})};function ed(){const{isAuthenticated:e,getCurrentUser:t,otpRequired:s}=Se();return p.useEffect(()=>{console.log(" App mounted, isAuthenticated:",e),!e&&localStorage.getItem("access_token")&&t()},[e,t]),n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs(ja,{children:[n.jsx(V,{path:"/landing",element:n.jsx(cu,{})}),n.jsx(V,{path:"/search",element:n.jsx(uu,{})}),n.jsx(V,{path:"/property/:propertyId",element:n.jsx(du,{})}),n.jsx(V,{path:"/test-auth",element:n.jsx(hu,{})}),n.jsxs(V,{path:"/auth",element:n.jsx(fc,{}),children:[n.jsx(V,{path:"login",element:n.jsx(Du,{})}),n.jsx(V,{path:"register",element:n.jsx(Mu,{})}),n.jsx(V,{path:"otp",element:n.jsx(Uu,{})})]}),n.jsxs(V,{path:"/admin",element:n.jsx(kt,{children:n.jsx(Gr,{allowedRoles:["ADMIN"],children:n.jsx(ps,{userType:"admin"})})}),children:[n.jsx(V,{index:!0,element:n.jsx(Kr,{})}),n.jsx(V,{path:"dashboard",element:n.jsx(Kr,{})}),n.jsx(V,{path:"users",element:n.jsx(qu,{})}),n.jsx(V,{path:"organizations",element:n.jsx(zu,{})}),n.jsx(V,{path:"properties",element:n.jsx(Vu,{})}),n.jsx(V,{path:"bookings",element:n.jsx(Hu,{})}),n.jsx(V,{path:"analytics",element:n.jsx(Qu,{})})]}),n.jsxs(V,{path:"/staff",element:n.jsx(kt,{children:n.jsx(Gr,{allowedRoles:["STAFF","ADMIN"],children:n.jsx(ps,{userType:"staff"})})}),children:[n.jsx(V,{index:!0,element:n.jsx(Zr,{})}),n.jsx(V,{path:"dashboard",element:n.jsx(Zr,{})}),n.jsx(V,{path:"bookings",element:n.jsx(Wu,{})}),n.jsx(V,{path:"customers",element:n.jsx(Ku,{})})]}),n.jsxs(V,{path:"/organization",element:n.jsx(kt,{children:n.jsx(ps,{userType:"organization"})}),children:[n.jsx(V,{index:!0,element:n.jsx(Jr,{})}),n.jsx(V,{path:"dashboard",element:n.jsx(Jr,{})}),n.jsx(V,{path:"properties",element:n.jsx(Zu,{})}),n.jsx(V,{path:"bookings",element:n.jsx(Ju,{})}),n.jsx(V,{path:"members",element:n.jsx(Gu,{})}),n.jsx(V,{path:"subscription",element:n.jsx(Xu,{})}),n.jsx(V,{path:"settings",element:n.jsx(Yu,{})})]}),n.jsx(V,{path:"/",element:n.jsx(ue,{to:e?s?"/auth/otp":"/dashboard":"/landing",replace:!0})}),n.jsx(V,{path:"/login",element:n.jsx(ue,{to:"/auth/login",replace:!0})}),n.jsx(V,{path:"/dashboard",element:n.jsx(kt,{children:n.jsx(td,{})})}),n.jsx(V,{path:"*",element:n.jsx(ue,{to:"/",replace:!0})})]})})}function td(){const{user:e}=Se();if(!e)return n.jsx(ue,{to:"/auth/login",replace:!0});switch(e.role){case"ADMIN":return n.jsx(ue,{to:"/admin/dashboard",replace:!0});case"STAFF":return n.jsx(ue,{to:"/staff/dashboard",replace:!0});case"CUSTOMER":return n.jsx(ue,{to:"/landing",replace:!0});default:return n.jsx(ue,{to:"/landing",replace:!0})}}const sd=new ti({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});gs.createRoot(document.getElementById("root")).render(n.jsx(q.StrictMode,{children:n.jsx(oi,{client:sd,children:n.jsxs(wa,{children:[n.jsx(ed,{}),n.jsx(eo,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}));
